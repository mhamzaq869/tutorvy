// Last time updated: 2019-03-08 2:53:41 PM UTC

"use strict";
! function() {
    function addEvent(element, eventType, callback) { if (!(eventType.split(" ").length > 1)) return element.addEventListener ? (element.addEventListener(eventType, callback, !1), !0) : element.attachEvent ? element.attachEvent("on" + eventType, callback) : (element["on" + eventType] = callback, this); for (var events = eventType.split(" "), i = 0; i < events.length; i++) addEvent(element, events[i], callback) }

    function find(selector) { return document.getElementById(selector) }

    function getContext(id) {
        var canv = find(id),
            ctx = canv.getContext("2d");
        return canv.setAttribute("width", innerWidth), canv.setAttribute("height", innerHeight), ctx.lineWidth = lineWidth, ctx.strokeStyle = strokeStyle, ctx.fillStyle = fillStyle, ctx.font = font, ctx
    }

    function drawArrow(mx, my, lx, ly, options) {
        function getOptions(opt) { return opt = opt || {}, [opt.lineWidth || 2, opt.strokeStyle || "#6c96c8", opt.fillStyle || "rgba(0,0,0,0)", opt.globalAlpha || 1, opt.globalCompositeOperation || "source-over", opt.lineCap || "round", opt.lineJoin || "round", opt.font || '15px "Arial"'] }

        function handleOptions(opt, isNoFillStroke) { opt = opt || getOptions(), context.globalAlpha = opt[3], context.globalCompositeOperation = opt[4], context.lineCap = opt[5], context.lineJoin = opt[6], context.lineWidth = opt[0], context.strokeStyle = opt[1], context.fillStyle = opt[2], context.font = opt[7], isNoFillStroke || (context.stroke(), context.fill()) }
        var arrowSize = 10,
            angle = Math.atan2(ly - my, lx - mx);
        context.beginPath(), context.moveTo(mx, my), context.lineTo(lx, ly), handleOptions(), context.beginPath(), context.moveTo(lx, ly), context.lineTo(lx - arrowSize * Math.cos(angle - Math.PI / 7), ly - arrowSize * Math.sin(angle - Math.PI / 7)), context.lineTo(lx - arrowSize * Math.cos(angle + Math.PI / 7), ly - arrowSize * Math.sin(angle + Math.PI / 7)), context.lineTo(lx, ly), context.lineTo(lx - arrowSize * Math.cos(angle - Math.PI / 7), ly - arrowSize * Math.sin(angle - Math.PI / 7)), handleOptions()
    }

    function endLastPath() {
        var cache = is;
        cache.isArc ? arcHandler.end() : cache.isQuadraticCurve ? quadraticHandler.end() : cache.isBezierCurve && bezierHandler.end(), drawHelper.redraw(), textHandler.text && textHandler.text.length && (textHandler.appendPoints(), textHandler.onShapeUnSelected()), textHandler.showOrHideTextTools("hide")
    }

    function copy() { endLastPath(), dragHelper.global.startingIndex = 0, find("copy-last").checked ? (copiedStuff = points[points.length - 1], setSelection(find("drag-last-path"), "DragLastPath")) : (copiedStuff = points, setSelection(find("drag-all-paths"), "DragAllPaths")) }

    function paste() { endLastPath(), dragHelper.global.startingIndex = 0, find("copy-last").checked ? (points[points.length] = copiedStuff, dragHelper.global = { prevX: 0, prevY: 0, startingIndex: points.length - 1 }, dragHelper.dragAllPaths(0, 0), setSelection(find("drag-last-path"), "DragLastPath")) : (dragHelper.global.startingIndex = points.length, points = points.concat(copiedStuff), setSelection(find("drag-all-paths"), "DragAllPaths")) }

    function hexToR(h) { return parseInt(cutHex(h).substring(0, 2), 16) }

    function hexToG(h) { return parseInt(cutHex(h).substring(2, 4), 16) }

    function hexToB(h) { return parseInt(cutHex(h).substring(4, 6), 16) }

    function cutHex(h) { return "#" == h.charAt(0) ? h.substring(1, 7) : h }

    function clone(obj) {
        if (null === obj || "object" != typeof obj || "isActiveClone" in obj) return obj;
        if (obj instanceof Date) var temp = new obj.constructor;
        else var temp = obj.constructor();
        for (var key in obj) Object.prototype.hasOwnProperty.call(obj, key) && (obj.isActiveClone = null, temp[key] = clone(obj[key]), delete obj.isActiveClone);
        return temp
    }

    function hexToRGB(h) { return [hexToR(h), hexToG(h), hexToB(h)] }

    function setSelection(element, prop) {
        endLastPath(), hideContainers(), is.set(prop);
        var selected = document.getElementsByClassName("selected-shape")[0];
        selected && (selected.className = selected.className.replace(/selected-shape/g, "")), element.className || (element.className = ""), element.className += " selected-shape"
    }

    function setDefaultSelectedIcon() {
        for (var firstMatch, toolBox = document.getElementById("tool-box"), canvasElements = toolBox.getElementsByTagName("canvas"), shape = window.selectedIcon.toLowerCase(), i = 0; i < canvasElements.length; i++) firstMatch || -1 === (canvasElements[i].id || "").indexOf(shape) || (firstMatch = canvasElements[i]);
        firstMatch || (window.selectedIcon = "Pencil", firstMatch = document.getElementById("pencil-icon")), setSelection(firstMatch, window.selectedIcon)
    }

    function hideContainers() {
        var additionalContainer = find("additional-container"),
            colorsContainer = find("colors-container"),
            markerContainer = find("marker-container"),
            markerColorContainer = find("marker-fill-colors"),
            pencilContainer = find("pencil-container"),
            pencilColorContainer = find("pencil-fill-colors"),
            lineWidthContainer = find("line-width-container");
        additionalContainer.style.display = colorsContainer.style.display = markerColorContainer.style.display = markerContainer.style.display = pencilColorContainer.style.display = pencilContainer.style.display = lineWidthContainer.style.display = "none"
    }

    function setTemporaryLine() {
        var arr = ["line", [139, 261, 170, 219],
            [1, "rgba(0,0,0,0)", "rgba(0,0,0,0)", 1, "source-over", "round", "round", '15px "Arial"']
        ];
        points.push(arr), drawHelper.redraw(), setTimeout(function() { setSelection(document.getElementById("line"), "Line") }, 1e3), setTimeout(setDefaultSelectedIcon, 2e3)
    }

    function preventStopEvent(e) { e && ("function" == typeof e.preventDefault && e.preventDefault(), "function" == typeof e.stopPropagation && e.stopPropagation()) }

    function onkeydown(e) {
        if (8 == (keyCode = e.which || e.keyCode || 0) || 46 == keyCode) return void isBackKey(e, keyCode);
        e.metaKey && (isControlKeyPressed = !0, keyCode = 17), isControlKeyPressed || 17 !== keyCode || (isControlKeyPressed = !0)
    }

    function isBackKey(e, keyCode) {
        var doPrevent = !1,
            d = e.srcElement || e.target;
        return doPrevent = ("INPUT" !== d.tagName.toUpperCase() || "TEXT" !== d.type.toUpperCase() && "PASSWORD" !== d.type.toUpperCase() && "FILE" !== d.type.toUpperCase() && "SEARCH" !== d.type.toUpperCase() && "EMAIL" !== d.type.toUpperCase() && "NUMBER" !== d.type.toUpperCase() && "DATE" !== d.type.toUpperCase()) && "TEXTAREA" !== d.tagName.toUpperCase() || (d.readOnly || d.disabled), doPrevent && e.preventDefault(), doPrevent
    }

    function onkeyup(e) { return null != e.which || null == e.charCode && null == e.keyCode || (e.which = null != e.charCode ? e.charCode : e.keyCode), 13 === (keyCode = e.which || e.keyCode || 0) && is.isText ? void textHandler.onReturnKeyPressed() : 8 == keyCode || 46 == keyCode ? void(isBackKey(e, keyCode) && textHandler.writeText(textHandler.lastKeyPress, !0)) : isControlKeyPressed && 84 === keyCode && is.isText ? void textHandler.showTextTools() : (isControlKeyPressed && 90 === keyCode && points.length && (points.length = points.length - 1, drawHelper.redraw(), syncPoints(!(!is.isDragAllPaths && !is.isDragLastPath))), isControlKeyPressed && 65 === keyCode && (dragHelper.global.startingIndex = 0, endLastPath(), setSelection(find("drag-all-paths"), "DragAllPaths")), isControlKeyPressed && 67 === keyCode && points.length && copy(), isControlKeyPressed && 86 === keyCode && copiedStuff.length && (paste(), syncPoints(!(!is.isDragAllPaths && !is.isDragLastPath))), void 0 !== e.metaKey && !1 === e.metaKey && (isControlKeyPressed = !1, keyCode = 17), void(17 === keyCode && (isControlKeyPressed = !1))) }

    function onkeypress(e) { null != e.which || null == e.charCode && null == e.keyCode || (e.which = null != e.charCode ? e.charCode : e.keyCode), keyCode = e.which || e.keyCode || 0, /[a-zA-Z0-9-_ !?|\/'",.=:;(){}\[\]`~@#$%^&*+-]/.test(String.fromCharCode(keyCode)) && textHandler.writeText(String.fromCharCode(keyCode)) }

    function onTextFromClipboard(e) {
        if (is.isText) {
            var pastedText;
            window.clipboardData && window.clipboardData.getData ? pastedText = window.clipboardData.getData("Text") : e.clipboardData && e.clipboardData.getData && (pastedText = e.clipboardData.getData("text/plain")), pastedText && pastedText.length && textHandler.writeText(pastedText)
        }
    }

    function syncPoints(isSyncAll) {
        if (isSyncAll && (lastPointIndex = 0), lastPointIndex != points.length) {
            for (var pointsToShare = [], i = lastPointIndex; i < points.length; i++) pointsToShare[i - lastPointIndex] = points[i];
            pointsToShare.length && syncData({ points: pointsToShare || [], startIndex: lastPointIndex }), !pointsToShare.length && points.length || (lastPointIndex = points.length)
        }
    }

    function syncData(data) { window.parent.postMessage({ canvasDesignerSyncData: data, uid: uid }, "*") }
    var isControlKeyPressed, is = {
            isLine: !1,
            isArrow: !1,
            isArc: !1,
            isDragLastPath: !1,
            isDragAllPaths: !1,
            isRectangle: !1,
            isQuadraticCurve: !1,
            isBezierCurve: !1,
            isPencil: !1,
            isMarker: !0,
            isEraser: !1,
            isText: !1,
            isImage: !1,
            isPdf: !1,
            set: function(shape) {
                var cache = this;
                cache.isLine = cache.isArrow = cache.isArc = cache.isDragLastPath = cache.isDragAllPaths = cache.isRectangle = cache.isQuadraticCurve = cache.isBezierCurve = cache.isPencil = cache.isMarker = cache.isEraser = cache.isText = cache.isImage = cache.isPdf = !1, cache["is" + shape] = !0
            }
        },
        points = [],
        textarea = find("code-text"),
        lineWidth = 2,
        strokeStyle = "#6c96c8",
        fillStyle = "rgba(0,0,0,0)",
        globalAlpha = 1,
        globalCompositeOperation = "source-over",
        lineCap = "round",
        font = '15px "Arial"',
        lineJoin = "round",
        context = getContext("main-canvas"),
        tempContext = getContext("temp-canvas"),
        common = {
            updateTextArea: function() {
                var c = common,
                    toFixed = c.toFixed,
                    getPoint = c.getPoint,
                    isAbsolutePoints = find("is-absolute-points").checked,
                    isShortenCode = find("is-shorten-code").checked;
                isAbsolutePoints && isShortenCode && c.absoluteShortened(), isAbsolutePoints && !isShortenCode && c.absoluteNOTShortened(toFixed), !isAbsolutePoints && isShortenCode && c.relativeShortened(toFixed, getPoint), isAbsolutePoints || isShortenCode || c.relativeNOTShortened(toFixed, getPoint)
            },
            toFixed: function(input) { return Number(input).toFixed(1) },
            getPoint: function(pointToCompare, compareWith, prefix) { return pointToCompare = pointToCompare > compareWith ? prefix + " + " + (pointToCompare - compareWith) : pointToCompare < compareWith ? prefix + " - " + (compareWith - pointToCompare) : prefix },
            absoluteShortened: function() {
                var point, output = "",
                    length = points.length,
                    i = 0;
                for (i; i < length; i++) point = points[i], output += this.shortenHelper(point[0], point[1], point[2]);
                output = output.substr(0, output.length - 2), textarea.value = "var points = [" + output + "], length = points.length, point, p, i = 0;\n\n" + drawArrow.toString() + "\n\n" + this.forLoop, this.prevProps = null
            },
            absoluteNOTShortened: function(toFixed) {
                var i, point, p, tempArray = [];
                for (i = 0; i < points.length; i++) p = points[i], point = p[1], "pencil" === p[0] && (tempArray[i] = ["context.beginPath();\ncontext.moveTo(" + point[0] + ", " + point[1] + ");\ncontext.lineTo(" + point[2] + ", " + point[3] + ");\n" + this.strokeOrFill(p[2])]), "marker" === p[0] && (tempArray[i] = ["context.beginPath();\ncontext.moveTo(" + point[0] + ", " + point[1] + ");\ncontext.lineTo(" + point[2] + ", " + point[3] + ");\n" + this.strokeOrFill(p[2])]), "eraser" === p[0] && (tempArray[i] = ["context.beginPath();\ncontext.moveTo(" + point[0] + ", " + point[1] + ");\ncontext.lineTo(" + point[2] + ", " + point[3] + ");\n" + this.strokeOrFill(p[2])]), "line" === p[0] && (tempArray[i] = ["context.beginPath();\ncontext.moveTo(" + point[0] + ", " + point[1] + ");\ncontext.lineTo(" + point[2] + ", " + point[3] + ");\n" + this.strokeOrFill(p[2])]), "pencil" === p[0] && (tempArray[i] = ["context.beginPath();\ncontext.moveTo(" + point[0] + ", " + point[1] + ");\ncontext.lineTo(" + point[2] + ", " + point[3] + ");\n" + this.strokeOrFill(p[2])]), "text" === p[0] && (tempArray[i] = [this.strokeOrFill(p[2]) + "\ncontext.fillText(" + point[0] + ", " + point[1] + ", " + point[2] + ");"]), "arrow" === p[0] && (tempArray[i] = ["drawArrow(" + point[0] + ", " + point[1] + ", " + point[2] + ", " + point[3] + ", '" + p[2].join("','") + "');"]), "arc" === p[0] && (tempArray[i] = ["context.beginPath(); \ncontext.arc(" + toFixed(point[0]) + "," + toFixed(point[1]) + "," + toFixed(point[2]) + "," + toFixed(point[3]) + ", 0," + point[4] + "); \n" + this.strokeOrFill(p[2])]), "rect" === p[0] && (tempArray[i] = [this.strokeOrFill(p[2]) + "\ncontext.strokeRect(" + point[0] + ", " + point[1] + "," + point[2] + "," + point[3] + ");\ncontext.fillRect(" + point[0] + ", " + point[1] + "," + point[2] + "," + point[3] + ");"]), "quadratic" === p[0] && (tempArray[i] = ["context.beginPath();\ncontext.moveTo(" + point[0] + ", " + point[1] + ");\ncontext.quadraticCurveTo(" + point[2] + ", " + point[3] + ", " + point[4] + ", " + point[5] + ");\n" + this.strokeOrFill(p[2])]), "bezier" === p[0] && (tempArray[i] = ["context.beginPath();\ncontext.moveTo(" + point[0] + ", " + point[1] + ");\ncontext.bezierCurveTo(" + point[2] + ", " + point[3] + ", " + point[4] + ", " + point[5] + ", " + point[6] + ", " + point[7] + ");\n" + this.strokeOrFill(p[2])]);
                textarea.value = tempArray.join("\n\n") + this.strokeFillText + "\n\n" + drawArrow.toString(), this.prevProps = null
            },
            relativeShortened: function(toFixed, getPoint) {
                var point, p, i = 0,
                    length = points.length,
                    output = "",
                    x = 0,
                    y = 0;
                for (i; i < length; i++) p = points[i], point = p[1], 0 === i && (x = point[0], y = point[1]), "text" === p[0] && (x = point[1], y = point[2]), "pencil" === p[0] && (output += this.shortenHelper(p[0], [getPoint(point[0], x, "x"), getPoint(point[1], y, "y"), getPoint(point[2], x, "x"), getPoint(point[3], y, "y")], p[2])), "marker" === p[0] && (output += this.shortenHelper(p[0], [getPoint(point[0], x, "x"), getPoint(point[1], y, "y"), getPoint(point[2], x, "x"), getPoint(point[3], y, "y")], p[2])), "eraser" === p[0] && (output += this.shortenHelper(p[0], [getPoint(point[0], x, "x"), getPoint(point[1], y, "y"), getPoint(point[2], x, "x"), getPoint(point[3], y, "y")], p[2])), "line" === p[0] && (output += this.shortenHelper(p[0], [getPoint(point[0], x, "x"), getPoint(point[1], y, "y"), getPoint(point[2], x, "x"), getPoint(point[3], y, "y")], p[2])), "pencil" === p[0] && (output += this.shortenHelper(p[0], [getPoint(point[0], x, "x"), getPoint(point[1], y, "y"), getPoint(point[2], x, "x"), getPoint(point[3], y, "y")], p[2])), "arrow" === p[0] && (output += this.shortenHelper(p[0], [getPoint(point[0], x, "x"), getPoint(point[1], y, "y"), getPoint(point[2], x, "x"), getPoint(point[3], y, "y")], p[2])), "text" === p[0] && (output += this.shortenHelper(p[0], [point[0], getPoint(point[1], x, "x"), getPoint(point[2], y, "y")], p[2])), "arc" === p[0] && (output += this.shortenHelper(p[0], [getPoint(point[0], x, "x"), getPoint(point[1], y, "y"), point[2], point[3], point[4]], p[2])), "rect" === p[0] && (output += this.shortenHelper(p[0], [getPoint(point[0], x, "x"), getPoint(point[1], y, "y"), getPoint(point[2], x, "x"), getPoint(point[3], y, "y")], p[2])), "quadratic" === p[0] && (output += this.shortenHelper(p[0], [getPoint(point[0], x, "x"), getPoint(point[1], y, "y"), getPoint(point[2], x, "x"), getPoint(point[3], y, "y"), getPoint(point[4], x, "x"), getPoint(point[5], y, "y")], p[2])), "bezier" === p[0] && (output += this.shortenHelper(p[0], [getPoint(point[0], x, "x"), getPoint(point[1], y, "y"), getPoint(point[2], x, "x"), getPoint(point[3], y, "y"), getPoint(point[4], x, "x"), getPoint(point[5], y, "y"), getPoint(point[6], x, "x"), getPoint(point[7], y, "y")], p[2]));
                output = output.substr(0, output.length - 2), textarea.value = "var x = " + x + ", y = " + y + ", points = [" + output + "], length = points.length, point, p, i = 0;\n\n" + drawArrow.toString() + "\n\n" + this.forLoop, this.prevProps = null
            },
            relativeNOTShortened: function(toFixed, getPoint) {
                var i, point, p, length = points.length,
                    output = "",
                    x = 0,
                    y = 0;
                for (i = 0; i < length; i++) p = points[i], point = p[1], 0 === i && (x = point[0], y = point[1], "text" === p[0] && (x = point[1], y = point[2]), output = "var x = " + x + ", y = " + y + ";\n\n"), "arc" === p[0] && (output += "context.beginPath();\ncontext.arc(" + getPoint(point[0], x, "x") + ", " + getPoint(point[1], y, "y") + ", " + point[2] + ", " + point[3] + ", 0, " + point[4] + ");\n" + this.strokeOrFill(p[2])), "pencil" === p[0] && (output += "context.beginPath();\ncontext.moveTo(" + getPoint(point[0], x, "x") + ", " + getPoint(point[1], y, "y") + ");\ncontext.lineTo(" + getPoint(point[2], x, "x") + ", " + getPoint(point[3], y, "y") + ");\n" + this.strokeOrFill(p[2])), "marker" === p[0] && (output += "context.beginPath();\ncontext.moveTo(" + getPoint(point[0], x, "x") + ", " + getPoint(point[1], y, "y") + ");\ncontext.lineTo(" + getPoint(point[2], x, "x") + ", " + getPoint(point[3], y, "y") + ");\n" + this.strokeOrFill(p[2])), "eraser" === p[0] && (output += "context.beginPath();\ncontext.moveTo(" + getPoint(point[0], x, "x") + ", " + getPoint(point[1], y, "y") + ");\ncontext.lineTo(" + getPoint(point[2], x, "x") + ", " + getPoint(point[3], y, "y") + ");\n" + this.strokeOrFill(p[2])), "line" === p[0] && (output += "context.beginPath();\ncontext.moveTo(" + getPoint(point[0], x, "x") + ", " + getPoint(point[1], y, "y") + ");\ncontext.lineTo(" + getPoint(point[2], x, "x") + ", " + getPoint(point[3], y, "y") + ");\n" + this.strokeOrFill(p[2])), "pencil" === p[0] && (output += "context.beginPath();\ncontext.moveTo(" + getPoint(point[0], x, "x") + ", " + getPoint(point[1], y, "y") + ");\ncontext.lineTo(" + getPoint(point[2], x, "x") + ", " + getPoint(point[3], y, "y") + ");\n" + this.strokeOrFill(p[2])), "arrow" === p[0] && (output += "drawArrow(" + getPoint(point[0], x, "x") + ", " + getPoint(point[1], y, "y") + ", " + getPoint(point[2], x, "x") + ", " + getPoint(point[3], y, "y") + ", '" + p[2].join("','") + "');\n"), "text" === p[0] && (output += this.strokeOrFill(p[2]) + "\ncontext.fillText(" + point[0] + ", " + getPoint(point[1], x, "x") + ", " + getPoint(point[2], y, "y") + ");"), "rect" === p[0] && (output += this.strokeOrFill(p[2]) + "\ncontext.strokeRect(" + getPoint(point[0], x, "x") + ", " + getPoint(point[1], y, "y") + ", " + getPoint(point[2], x, "x") + ", " + getPoint(point[3], y, "y") + ");\ncontext.fillRect(" + getPoint(point[0], x, "x") + ", " + getPoint(point[1], y, "y") + ", " + getPoint(point[2], x, "x") + ", " + getPoint(point[3], y, "y") + ");"), "quadratic" === p[0] && (output += "context.beginPath();\ncontext.moveTo(" + getPoint(point[0], x, "x") + ", " + getPoint(point[1], y, "y") + ");\ncontext.quadraticCurveTo(" + getPoint(point[2], x, "x") + ", " + getPoint(point[3], y, "y") + ", " + getPoint(point[4], x, "x") + ", " + getPoint(point[5], y, "y") + ");\n" + this.strokeOrFill(p[2])), "bezier" === p[0] && (output += "context.beginPath();\ncontext.moveTo(" + getPoint(point[0], x, "x") + ", " + getPoint(point[1], y, "y") + ");\ncontext.bezierCurveTo(" + getPoint(point[2], x, "x") + ", " + getPoint(point[3], y, "y") + ", " + getPoint(point[4], x, "x") + ", " + getPoint(point[5], y, "y") + ", " + getPoint(point[6], x, "x") + ", " + getPoint(point[7], y, "y") + ");\n" + this.strokeOrFill(p[2])), i !== length - 1 && (output += "\n\n");
                textarea.value = output + this.strokeFillText + "\n\n" + drawArrow.toString(), this.prevProps = null
            },
            forLoop: 'for(i; i < length; i++) {\n    p = points[i];\n    point = p[1];\n    context.beginPath();\n\n    if(p[2]) { \n\tcontext.lineWidth = p[2][0];\n\tcontext.strokeStyle = p[2][1];\n\tcontext.fillStyle = p[2][2];\n\tcontext.globalAlpha = p[2][3];\n\tcontext.globalCompositeOperation = p[2][4];\n\tcontext.lineCap = p[2][5];\n\tcontext.lineJoin = p[2][6];\n\tcontext.font = p[2][7];\n    }\n\n    if(p[0] === "line") { \n\tcontext.moveTo(point[0], point[1]);\n\tcontext.lineTo(point[2], point[3]);\n    }\n\n    if(p[0] === "arrow") { \n\tdrawArrow(point[0], point[1], point[2], point[3], p[2]);\n    }\n\n    if(p[0] === "pencil") { \n\tcontext.moveTo(point[0], point[1]);\n\tcontext.lineTo(point[2], point[3]);\n    }\n\n    if(p[0] === "marker") { \n\tcontext.moveTo(point[0], point[1]);\n\tcontext.lineTo(point[2], point[3]);\n    }\n\n    if(p[0] === "text") { \n\tcontext.fillText(point[0], point[1], point[2]);\n    }\n\n    if(p[0] === "eraser") { \n\tcontext.moveTo(point[0], point[1]);\n\tcontext.lineTo(point[2], point[3]);\n    }\n\n    if(p[0] === "arc") context.arc(point[0], point[1], point[2], point[3], 0, point[4]); \n\n    if(p[0] === "rect") {\n\tcontext.strokeRect(point[0], point[1], point[2], point[3]);\n\tcontext.fillRect(point[0], point[1], point[2], point[3]);\n    }\n\n    if(p[0] === "quadratic") {\n\tcontext.moveTo(point[0], point[1]);\n\tcontext.quadraticCurveTo(point[2], point[3], point[4], point[5]);\n    }\n\n    if(p[0] === "bezier") {\n\tcontext.moveTo(point[0], point[1]);\n\tcontext.bezierCurveTo(point[2], point[3], point[4], point[5], point[6], point[7]);\n    }\n\n    context.stroke();\n    context.fill();\n}',
            strokeFillText: "\n\nfunction strokeOrFill(lineWidth, strokeStyle, fillStyle, globalAlpha, globalCompositeOperation, lineCap, lineJoin, font) { \n    if(lineWidth) { \n\tcontext.globalAlpha = globalAlpha;\n\tcontext.globalCompositeOperation = globalCompositeOperation;\n\tcontext.lineCap = lineCap;\n\tcontext.lineJoin = lineJoin;\n\tcontext.lineWidth = lineWidth;\n\tcontext.strokeStyle = strokeStyle;\n\tcontext.fillStyle = fillStyle;\n\tcontext.font = font;\n    } \n\n    context.stroke();\n    context.fill();\n}",
            strokeOrFill: function(p) { return this.prevProps && this.prevProps === p.join(",") ? "strokeOrFill();" : (this.prevProps = p.join(","), "strokeOrFill('" + p.join("', '") + "');") },
            prevProps: null,
            shortenHelper: function(name, p1, p2) { var result = "['" + name + "', [" + p1.join(", ") + "]"; return this.prevProps && this.prevProps === p2.join(",") || (this.prevProps = p2.join(","), result += ", ['" + p2.join("', '") + "']"), result + "], " }
        },
        copiedStuff = [],
        drawHelper = {
            redraw: function() { tempContext.clearRect(0, 0, innerWidth, innerHeight), context.clearRect(0, 0, innerWidth, innerHeight); var i, point, length = points.length; for (i = 0; i < length; i++)(point = points[i]) && point.length && this[point[0]] && this[point[0]](context, point[1], point[2]) },
            getOptions: function(opt) { return opt = opt || {}, [opt.lineWidth || lineWidth, opt.strokeStyle || strokeStyle, opt.fillStyle || fillStyle, opt.globalAlpha || globalAlpha, opt.globalCompositeOperation || globalCompositeOperation, opt.lineCap || lineCap, opt.lineJoin || lineJoin, opt.font || font] },
            handleOptions: function(context, opt, isNoFillStroke) { opt = opt || this.getOptions(), context.globalAlpha = opt[3], context.globalCompositeOperation = opt[4], context.lineCap = opt[5], context.lineJoin = opt[6], context.lineWidth = opt[0], context.strokeStyle = opt[1], context.fillStyle = opt[2], context.font = opt[7], isNoFillStroke || (context.stroke(), context.fill()) },
            line: function(context, point, options) { context.beginPath(), context.moveTo(point[0], point[1]), context.lineTo(point[2], point[3]), this.handleOptions(context, options) },
            pencil: function(context, point, options) { context.beginPath(), context.moveTo(point[0], point[1]), context.lineTo(point[2], point[3]), this.handleOptions(context, options) },
            marker: function(context, point, options) { context.beginPath(), context.moveTo(point[0], point[1]), context.lineTo(point[2], point[3]), this.handleOptions(context, options) },
            arrow: function(context, point, options) {
                var mx = point[0],
                    my = point[1],
                    lx = point[2],
                    ly = point[3],
                    arrowSize = arrowHandler.arrowSize;
                10 == arrowSize && (arrowSize = 5 * (options ? options[0] : lineWidth));
                var angle = Math.atan2(ly - my, lx - mx);
                context.beginPath(), context.moveTo(mx, my), context.lineTo(lx, ly), this.handleOptions(context, options), context.beginPath(), context.moveTo(lx, ly), context.lineTo(lx - arrowSize * Math.cos(angle - Math.PI / 7), ly - arrowSize * Math.sin(angle - Math.PI / 7)), context.lineTo(lx - arrowSize * Math.cos(angle + Math.PI / 7), ly - arrowSize * Math.sin(angle + Math.PI / 7)), context.lineTo(lx, ly), context.lineTo(lx - arrowSize * Math.cos(angle - Math.PI / 7), ly - arrowSize * Math.sin(angle - Math.PI / 7)), this.handleOptions(context, options)
            },
            text: function(context, point, options) { this.handleOptions(context, options), context.fillStyle = textHandler.getFillColor(options[2]), context.fillText(point[0].substr(1, point[0].length - 2), point[1], point[2]) },
            arc: function(context, point, options) { context.beginPath(), context.arc(point[0], point[1], point[2], point[3], 0, point[4]), this.handleOptions(context, options) },
            rect: function(context, point, options) { this.handleOptions(context, options, !0), context.strokeRect(point[0], point[1], point[2], point[3]), context.fillRect(point[0], point[1], point[2], point[3]) },
            image: function(context, point, options) {
                this.handleOptions(context, options, !0);
                var image = imageHandler.images[point[5]];
                if (!image) {
                    var image = new Image;
                    return image.onload = function() {
                        var index = imageHandler.images.length;
                        imageHandler.lastImageURL = image.src, imageHandler.lastImageIndex = index, imageHandler.images.push(image), context.drawImage(image, point[1], point[2], point[3], point[4])
                    }, void(image.src = point[0])
                }
                context.drawImage(image, point[1], point[2], point[3], point[4])
            },
            pdf: function(context, point, options) {
                this.handleOptions(context, options, !0);
                var image = pdfHandler.images[point[5]];
                if (!image) {
                    var image = new Image;
                    return image.onload = function() {
                        var index = imageHandler.images.length;
                        pdfHandler.lastPage = image.src, pdfHandler.lastIndex = index, pdfHandler.images.push(image), context.drawImage(image, point[1], point[2], point[3], point[4])
                    }, void(image.src = point[0])
                }
                context.drawImage(image, point[1], point[2], point[3], point[4]), pdfHandler.reset_pos(point[1], point[2])
            },
            quadratic: function(context, point, options) { context.beginPath(), context.moveTo(point[0], point[1]), context.quadraticCurveTo(point[2], point[3], point[4], point[5]), this.handleOptions(context, options) },
            bezier: function(context, point, options) { context.beginPath(), context.moveTo(point[0], point[1]), context.bezierCurveTo(point[2], point[3], point[4], point[5], point[6], point[7]), this.handleOptions(context, options) }
        },
        dragHelper = {
            global: { prevX: 0, prevY: 0, ismousedown: !1, pointsToMove: "all", startingIndex: 0 },
            mousedown: function(e) {
                isControlKeyPressed && (copy(), paste(), isControlKeyPressed = !1);
                var dHelper = dragHelper,
                    g = dHelper.global,
                    x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop;
                if (g.prevX = x, g.prevY = y, g.pointsToMove = "all", points.length) {
                    var p = points[points.length - 1],
                        point = p[1];
                    "line" === p[0] && (dHelper.isPointInPath(x, y, point[0], point[1]) && (g.pointsToMove = "head"), dHelper.isPointInPath(x, y, point[2], point[3]) && (g.pointsToMove = "tail")), "pencil" === p[0] && (dHelper.isPointInPath(x, y, point[0], point[1]) && (g.pointsToMove = "head"), dHelper.isPointInPath(x, y, point[2], point[3]) && (g.pointsToMove = "tail")), "arrow" === p[0] && (dHelper.isPointInPath(x, y, point[0], point[1]) && (g.pointsToMove = "head"), dHelper.isPointInPath(x, y, point[2], point[3]) && (g.pointsToMove = "tail")), "rect" === p[0] && (dHelper.isPointInPath(x, y, point[0], point[1]) && (g.pointsToMove = "stretch-first"), dHelper.isPointInPath(x, y, point[0] + point[2], point[1]) && (g.pointsToMove = "stretch-second"), dHelper.isPointInPath(x, y, point[0], point[1] + point[3]) && (g.pointsToMove = "stretch-third"), dHelper.isPointInPath(x, y, point[0] + point[2], point[1] + point[3]) && (g.pointsToMove = "stretch-last")), "image" === p[0] && (dHelper.isPointInPath(x, y, point[1], point[2]) && (g.pointsToMove = "stretch-first"), dHelper.isPointInPath(x, y, point[1] + point[3], point[2]) && (g.pointsToMove = "stretch-second"), dHelper.isPointInPath(x, y, point[1], point[2] + point[4]) && (g.pointsToMove = "stretch-third"), dHelper.isPointInPath(x, y, point[1] + point[3], point[2] + point[4]) && (g.pointsToMove = "stretch-last")), "pdf" === p[0] && (dHelper.isPointInPath(x, y, point[1], point[2]) && (g.pointsToMove = "stretch-first"), dHelper.isPointInPath(x, y, point[1] + point[3], point[2]) && (g.pointsToMove = "stretch-second"), dHelper.isPointInPath(x, y, point[1], point[2] + point[4]) && (g.pointsToMove = "stretch-third"), dHelper.isPointInPath(x, y, point[1] + point[3], point[2] + point[4]) && (g.pointsToMove = "stretch-last")), "quadratic" === p[0] && (dHelper.isPointInPath(x, y, point[0], point[1]) && (g.pointsToMove = "starting-points"), dHelper.isPointInPath(x, y, point[2], point[3]) && (g.pointsToMove = "control-points"), dHelper.isPointInPath(x, y, point[4], point[5]) && (g.pointsToMove = "ending-points")), "bezier" === p[0] && (dHelper.isPointInPath(x, y, point[0], point[1]) && (g.pointsToMove = "starting-points"), dHelper.isPointInPath(x, y, point[2], point[3]) && (g.pointsToMove = "1st-control-points"), dHelper.isPointInPath(x, y, point[4], point[5]) && (g.pointsToMove = "2nd-control-points"), dHelper.isPointInPath(x, y, point[6], point[7]) && (g.pointsToMove = "ending-points"))
                }
                g.ismousedown = !0
            },
            mouseup: function() {
                var g = this.global;
                is.isDragLastPath && (tempContext.clearRect(0, 0, innerWidth, innerHeight), context.clearRect(0, 0, innerWidth, innerHeight), this.end()), g.ismousedown = !1
            },
            mousemove: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    g = this.global;
                drawHelper.redraw(), g.ismousedown && this.dragShape(x, y), is.isDragLastPath && this.init()
            },
            init: function() {
                if (points.length) {
                    var p = points[points.length - 1],
                        point = p[1];
                    this.global.ismousedown ? tempContext.fillStyle = "rgba(255,85 ,154,.9)" : tempContext.fillStyle = "rgba(255,85 ,154,.4)", "quadratic" === p[0] && (tempContext.beginPath(), tempContext.arc(point[0], point[1], 10, 2 * Math.PI, 0, !1), tempContext.arc(point[2], point[3], 10, 2 * Math.PI, 0, !1), tempContext.arc(point[4], point[5], 10, 2 * Math.PI, 0, !1), tempContext.fill()), "bezier" === p[0] && (tempContext.beginPath(), tempContext.arc(point[0], point[1], 10, 2 * Math.PI, 0, !1), tempContext.arc(point[2], point[3], 10, 2 * Math.PI, 0, !1), tempContext.arc(point[4], point[5], 10, 2 * Math.PI, 0, !1), tempContext.arc(point[6], point[7], 10, 2 * Math.PI, 0, !1), tempContext.fill()), "line" === p[0] && (tempContext.beginPath(), tempContext.arc(point[0], point[1], 10, 2 * Math.PI, 0, !1), tempContext.arc(point[2], point[3], 10, 2 * Math.PI, 0, !1), tempContext.fill()), "pencil" === p[0] && (tempContext.beginPath(), tempContext.arc(point[0], point[1], 10, 2 * Math.PI, 0, !1), tempContext.arc(point[2], point[3], 10, 2 * Math.PI, 0, !1), tempContext.fill()), "arrow" === p[0] && (tempContext.beginPath(), tempContext.arc(point[0], point[1], 10, 2 * Math.PI, 0, !1), tempContext.arc(point[2], point[3], 10, 2 * Math.PI, 0, !1), tempContext.fill()), "text" === p[0] && (tempContext.font = "15px Verdana", tempContext.fillText(point[0], point[1], point[2])), "rect" === p[0] && (tempContext.beginPath(), tempContext.arc(point[0], point[1], 10, 2 * Math.PI, 0, !1), tempContext.fill(), tempContext.beginPath(), tempContext.arc(point[0] + point[2], point[1], 10, 2 * Math.PI, 0, !1), tempContext.fill(), tempContext.beginPath(), tempContext.arc(point[0], point[1] + point[3], 10, 2 * Math.PI, 0, !1), tempContext.fill(), tempContext.beginPath(), tempContext.arc(point[0] + point[2], point[1] + point[3], 10, 2 * Math.PI, 0, !1), tempContext.fill()), "image" === p[0] && (tempContext.beginPath(), tempContext.arc(point[1], point[2], 10, 2 * Math.PI, 0, !1), tempContext.fill(), tempContext.beginPath(), tempContext.arc(point[1] + point[3], point[2], 10, 2 * Math.PI, 0, !1), tempContext.fill(), tempContext.beginPath(), tempContext.arc(point[1], point[2] + point[4], 10, 2 * Math.PI, 0, !1), tempContext.fill(), tempContext.beginPath(), tempContext.arc(point[1] + point[3], point[2] + point[4], 10, 2 * Math.PI, 0, !1), tempContext.fill()), "pdf" === p[0] && (tempContext.beginPath(), tempContext.arc(point[1], point[2], 10, 2 * Math.PI, 0, !1), tempContext.fill(), tempContext.beginPath(), tempContext.arc(point[1] + point[3], point[2], 10, 2 * Math.PI, 0, !1), tempContext.fill(), tempContext.beginPath(), tempContext.arc(point[1], point[2] + point[4], 10, 2 * Math.PI, 0, !1), tempContext.fill(), tempContext.beginPath(), tempContext.arc(point[1] + point[3], point[2] + point[4], 10, 2 * Math.PI, 0, !1), tempContext.fill())
                }
            },
            isPointInPath: function(x, y, first, second) { return x > first - 10 && x < first + 10 && y > second - 10 && y < second + 10 },
            getPoint: function(point, prev, otherPoint) { return point = point > prev ? otherPoint + (point - prev) : otherPoint - (prev - point) },
            getXYWidthHeight: function(x, y, prevX, prevY, oldPoints) { return "stretch-first" == oldPoints.pointsToMove && (x > prevX ? (oldPoints.x = oldPoints.x + (x - prevX), oldPoints.width = oldPoints.width - (x - prevX)) : (oldPoints.x = oldPoints.x - (prevX - x), oldPoints.width = oldPoints.width + (prevX - x)), y > prevY ? (oldPoints.y = oldPoints.y + (y - prevY), oldPoints.height = oldPoints.height - (y - prevY)) : (oldPoints.y = oldPoints.y - (prevY - y), oldPoints.height = oldPoints.height + (prevY - y))), "stretch-second" == oldPoints.pointsToMove && (oldPoints.width = x > prevX ? oldPoints.width + (x - prevX) : oldPoints.width - (prevX - x), y < prevY ? (oldPoints.y = oldPoints.y + (y - prevY), oldPoints.height = oldPoints.height - (y - prevY)) : (oldPoints.y = oldPoints.y - (prevY - y), oldPoints.height = oldPoints.height + (prevY - y))), "stretch-third" == oldPoints.pointsToMove && (x > prevX ? (oldPoints.x = oldPoints.x + (x - prevX), oldPoints.width = oldPoints.width - (x - prevX)) : (oldPoints.x = oldPoints.x - (prevX - x), oldPoints.width = oldPoints.width + (prevX - x)), oldPoints.height = y < prevY ? oldPoints.height + (y - prevY) : oldPoints.height - (prevY - y)), oldPoints },
            dragShape: function(x, y) {
                if (this.global.ismousedown) {
                    tempContext.clearRect(0, 0, innerWidth, innerHeight), is.isDragLastPath && this.dragLastPath(x, y), is.isDragAllPaths && this.dragAllPaths(x, y);
                    var g = this.global;
                    g.prevX = x, g.prevY = y
                }
            },
            end: function() {
                if (points.length) {
                    tempContext.clearRect(0, 0, innerWidth, innerHeight);
                    var point = points[points.length - 1];
                    drawHelper[point[0]](context, point[1], point[2])
                }
            },
            dragAllPaths: function(x, y) {
                var p, point, g = this.global,
                    prevX = g.prevX,
                    prevY = g.prevY,
                    length = points.length,
                    getPoint = this.getPoint,
                    i = g.startingIndex;
                for (i; i < length; i++) p = points[i], point = p[1], "line" === p[0] && (points[i] = [p[0],
                        [getPoint(x, prevX, point[0]), getPoint(y, prevY, point[1]), getPoint(x, prevX, point[2]), getPoint(y, prevY, point[3])], p[2]
                    ]), "pencil" === p[0] && (points[i] = [p[0],
                        [getPoint(x, prevX, point[0]), getPoint(y, prevY, point[1]), getPoint(x, prevX, point[2]), getPoint(y, prevY, point[3])], p[2]
                    ]), "arrow" === p[0] && (points[i] = [p[0],
                        [getPoint(x, prevX, point[0]), getPoint(y, prevY, point[1]), getPoint(x, prevX, point[2]), getPoint(y, prevY, point[3])], p[2]
                    ]), "text" === p[0] && (points[i] = [p[0],
                        [point[0], getPoint(x, prevX, point[1]), getPoint(y, prevY, point[2])], p[2]
                    ]), "arc" === p[0] && (points[i] = [p[0],
                        [getPoint(x, prevX, point[0]), getPoint(y, prevY, point[1]), point[2], point[3], point[4]], p[2]
                    ]), "rect" === p[0] && (points[i] = [p[0],
                        [getPoint(x, prevX, point[0]), getPoint(y, prevY, point[1]), point[2], point[3]], p[2]
                    ]),
                    "image" === p[0] && (points[i] = [p[0],
                        [point[0], getPoint(x, prevX, point[1]), getPoint(y, prevY, point[2]), point[3], point[4], point[5]], p[2]
                    ]), "pdf" === p[0] && (points[i] = [p[0],
                        [point[0], getPoint(x, prevX, point[1]), getPoint(y, prevY, point[2]), point[3], point[4], point[5]], p[2]
                    ]), "quadratic" === p[0] && (points[i] = [p[0],
                        [getPoint(x, prevX, point[0]), getPoint(y, prevY, point[1]), getPoint(x, prevX, point[2]), getPoint(y, prevY, point[3]), getPoint(x, prevX, point[4]), getPoint(y, prevY, point[5])], p[2]
                    ]), "bezier" === p[0] && (points[i] = [p[0],
                        [getPoint(x, prevX, point[0]), getPoint(y, prevY, point[1]), getPoint(x, prevX, point[2]), getPoint(y, prevY, point[3]), getPoint(x, prevX, point[4]), getPoint(y, prevY, point[5]), getPoint(x, prevX, point[6]), getPoint(y, prevY, point[7])], p[2]
                    ])
            },
            dragLastPath: function(x, y) {
                if (points[points.length - 1]) {
                    var g = this.global,
                        prevX = g.prevX,
                        prevY = g.prevY,
                        p = points[points.length - 1],
                        point = p[1],
                        getPoint = this.getPoint,
                        getXYWidthHeight = this.getXYWidthHeight,
                        isMoveAllPoints = "all" === g.pointsToMove;
                    if ("line" === p[0] && (("head" === g.pointsToMove || isMoveAllPoints) && (point[0] = getPoint(x, prevX, point[0]), point[1] = getPoint(y, prevY, point[1])), ("tail" === g.pointsToMove || isMoveAllPoints) && (point[2] = getPoint(x, prevX, point[2]), point[3] = getPoint(y, prevY, point[3])), points[points.length - 1] = [p[0], point, p[2]]), "pencil" === p[0] && (("head" === g.pointsToMove || isMoveAllPoints) && (point[0] = getPoint(x, prevX, point[0]), point[1] = getPoint(y, prevY, point[1])), ("tail" === g.pointsToMove || isMoveAllPoints) && (point[2] = getPoint(x, prevX, point[2]), point[3] = getPoint(y, prevY, point[3])), points[points.length - 1] = [p[0], point, p[2]]), "arrow" === p[0] && (("head" === g.pointsToMove || isMoveAllPoints) && (point[0] = getPoint(x, prevX, point[0]), point[1] = getPoint(y, prevY, point[1])), ("tail" === g.pointsToMove || isMoveAllPoints) && (point[2] = getPoint(x, prevX, point[2]), point[3] = getPoint(y, prevY, point[3])), points[points.length - 1] = [p[0], point, p[2]]), "text" === p[0] && (("head" === g.pointsToMove || isMoveAllPoints) && (point[1] = getPoint(x, prevX, point[1]), point[2] = getPoint(y, prevY, point[2])), points[points.length - 1] = [p[0], point, p[2]]), "arc" === p[0] && (point[0] = getPoint(x, prevX, point[0]), point[1] = getPoint(y, prevY, point[1]), points[points.length - 1] = [p[0], point, p[2]]), "rect" === p[0]) {
                        if (isMoveAllPoints && (point[0] = getPoint(x, prevX, point[0]), point[1] = getPoint(y, prevY, point[1])), "stretch-first" === g.pointsToMove) {
                            var newPoints = getXYWidthHeight(x, y, prevX, prevY, { x: point[0], y: point[1], width: point[2], height: point[3], pointsToMove: g.pointsToMove });
                            point[0] = newPoints.x, point[1] = newPoints.y, point[2] = newPoints.width, point[3] = newPoints.height
                        }
                        if ("stretch-second" === g.pointsToMove) {
                            var newPoints = getXYWidthHeight(x, y, prevX, prevY, { x: point[0], y: point[1], width: point[2], height: point[3], pointsToMove: g.pointsToMove });
                            point[1] = newPoints.y, point[2] = newPoints.width, point[3] = newPoints.height
                        }
                        if ("stretch-third" === g.pointsToMove) {
                            var newPoints = getXYWidthHeight(x, y, prevX, prevY, { x: point[0], y: point[1], width: point[2], height: point[3], pointsToMove: g.pointsToMove });
                            point[0] = newPoints.x, point[2] = newPoints.width, point[3] = newPoints.height
                        }
                        "stretch-last" === g.pointsToMove && (point[2] = getPoint(x, prevX, point[2]), point[3] = getPoint(y, prevY, point[3])), points[points.length - 1] = [p[0], point, p[2]]
                    }
                    if ("image" === p[0]) {
                        if (isMoveAllPoints && (point[1] = getPoint(x, prevX, point[1]), point[2] = getPoint(y, prevY, point[2])), "stretch-first" === g.pointsToMove) {
                            var newPoints = getXYWidthHeight(x, y, prevX, prevY, { x: point[1], y: point[2], width: point[3], height: point[4], pointsToMove: g.pointsToMove });
                            point[1] = newPoints.x, point[2] = newPoints.y, point[3] = newPoints.width, point[4] = newPoints.height
                        }
                        if ("stretch-second" === g.pointsToMove) {
                            var newPoints = getXYWidthHeight(x, y, prevX, prevY, { x: point[1], y: point[2], width: point[3], height: point[4], pointsToMove: g.pointsToMove });
                            point[2] = newPoints.y, point[3] = newPoints.width, point[4] = newPoints.height
                        }
                        if ("stretch-third" === g.pointsToMove) {
                            var newPoints = getXYWidthHeight(x, y, prevX, prevY, { x: point[1], y: point[2], width: point[3], height: point[4], pointsToMove: g.pointsToMove });
                            point[1] = newPoints.x, point[3] = newPoints.width, point[4] = newPoints.height
                        }
                        "stretch-last" === g.pointsToMove && (point[3] = getPoint(x, prevX, point[3]), point[4] = getPoint(y, prevY, point[4])), points[points.length - 1] = [p[0], point, p[2]]
                    }
                    if ("pdf" === p[0]) {
                        if (isMoveAllPoints && (point[1] = getPoint(x, prevX, point[1]), point[2] = getPoint(y, prevY, point[2])), "stretch-first" === g.pointsToMove) {
                            var newPoints = getXYWidthHeight(x, y, prevX, prevY, { x: point[1], y: point[2], width: point[3], height: point[4], pointsToMove: g.pointsToMove });
                            point[1] = newPoints.x, point[2] = newPoints.y, point[3] = newPoints.width, point[4] = newPoints.height
                        }
                        if ("stretch-second" === g.pointsToMove) {
                            var newPoints = getXYWidthHeight(x, y, prevX, prevY, { x: point[1], y: point[2], width: point[3], height: point[4], pointsToMove: g.pointsToMove });
                            point[2] = newPoints.y, point[3] = newPoints.width, point[4] = newPoints.height
                        }
                        if ("stretch-third" === g.pointsToMove) {
                            var newPoints = getXYWidthHeight(x, y, prevX, prevY, { x: point[1], y: point[2], width: point[3], height: point[4], pointsToMove: g.pointsToMove });
                            point[1] = newPoints.x, point[3] = newPoints.width, point[4] = newPoints.height
                        }
                        "stretch-last" === g.pointsToMove && (point[3] = getPoint(x, prevX, point[3]), point[4] = getPoint(y, prevY, point[4])), points[points.length - 1] = [p[0], point, p[2]]
                    }
                    "quadratic" === p[0] && (("starting-points" === g.pointsToMove || isMoveAllPoints) && (point[0] = getPoint(x, prevX, point[0]), point[1] = getPoint(y, prevY, point[1])), ("control-points" === g.pointsToMove || isMoveAllPoints) && (point[2] = getPoint(x, prevX, point[2]), point[3] = getPoint(y, prevY, point[3])), ("ending-points" === g.pointsToMove || isMoveAllPoints) && (point[4] = getPoint(x, prevX, point[4]), point[5] = getPoint(y, prevY, point[5])), points[points.length - 1] = [p[0], point, p[2]]), "bezier" === p[0] && (("starting-points" === g.pointsToMove || isMoveAllPoints) && (point[0] = getPoint(x, prevX, point[0]), point[1] = getPoint(y, prevY, point[1])), ("1st-control-points" === g.pointsToMove || isMoveAllPoints) && (point[2] = getPoint(x, prevX, point[2]), point[3] = getPoint(y, prevY, point[3])), ("2nd-control-points" === g.pointsToMove || isMoveAllPoints) && (point[4] = getPoint(x, prevX, point[4]), point[5] = getPoint(y, prevY, point[5])), ("ending-points" === g.pointsToMove || isMoveAllPoints) && (point[6] = getPoint(x, prevX, point[6]), point[7] = getPoint(y, prevY, point[7])), points[points.length - 1] = [p[0], point, p[2]])
                }
            }
        },
        pencilHandler = {
            ismousedown: !1,
            prevX: 0,
            prevY: 0,
            mousedown: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.prevX = x, t.prevY = y, t.ismousedown = !0, tempContext.lineCap = "round", pencilDrawHelper.pencil(tempContext, [t.prevX, t.prevY, x, y]), points[points.length] = ["pencil", [t.prevX, t.prevY, x, y], pencilDrawHelper.getOptions(), "start"], t.prevX = x, t.prevY = y
            },
            mouseup: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (tempContext.lineCap = "round", pencilDrawHelper.pencil(tempContext, [t.prevX, t.prevY, x, y]), points[points.length] = ["pencil", [t.prevX, t.prevY, x, y], pencilDrawHelper.getOptions(), "end"], t.prevX = x, t.prevY = y), this.ismousedown = !1
            },
            mousemove: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (tempContext.lineCap = "round", pencilDrawHelper.pencil(tempContext, [t.prevX, t.prevY, x, y]), points[points.length] = ["pencil", [t.prevX, t.prevY, x, y], pencilDrawHelper.getOptions()], t.prevX = x, t.prevY = y)
            }
        },
        pencilLineWidth = document.getElementById("pencil-stroke-style").value,
        pencilStrokeStyle = "#" + document.getElementById("pencil-fill-style").value,
        pencilDrawHelper = clone(drawHelper);
    pencilDrawHelper.getOptions = function() { return [pencilLineWidth, pencilStrokeStyle, fillStyle, globalAlpha, globalCompositeOperation, lineCap, lineJoin, font] };
    var markerHandler = {
            ismousedown: !1,
            prevX: 0,
            prevY: 0,
            mousedown: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.prevX = x, t.prevY = y, t.ismousedown = !0, tempContext.lineCap = "round", markerDrawHelper.line(tempContext, [t.prevX, t.prevY, x, y]), points[points.length] = ["line", [t.prevX, t.prevY, x, y], markerDrawHelper.getOptions()], t.prevX = x, t.prevY = y
            },
            mouseup: function(e) { this.ismousedown = !1 },
            mousemove: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (tempContext.lineCap = "round", markerDrawHelper.line(tempContext, [t.prevX, t.prevY, x, y]), points[points.length] = ["line", [t.prevX, t.prevY, x, y], markerDrawHelper.getOptions()], t.prevX = x, t.prevY = y)
            }
        },
        markerLineWidth = document.getElementById("marker-stroke-style").value,
        markerStrokeStyle = "#" + document.getElementById("marker-fill-style").value,
        markerDrawHelper = clone(drawHelper);
    markerDrawHelper.getOptions = function() { return [markerLineWidth, markerStrokeStyle, fillStyle, .7, globalCompositeOperation, lineCap, lineJoin, font] };
    var eraserHandler = {
            ismousedown: !1,
            prevX: 0,
            prevY: 0,
            mousedown: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.prevX = x, t.prevY = y, t.ismousedown = !0, tempContext.lineCap = "round", drawHelper.line(tempContext, [t.prevX, t.prevY, x, y]), points[points.length] = ["line", [t.prevX, t.prevY, x, y], drawHelper.getOptions()], t.prevX = x, t.prevY = y
            },
            mouseup: function(e) { this.ismousedown = !1 },
            mousemove: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (tempContext.lineCap = "round", drawHelper.line(tempContext, [t.prevX, t.prevY, x, y]), points[points.length] = ["line", [t.prevX, t.prevY, x, y], drawHelper.getOptions()], t.prevX = x, t.prevY = y)
            }
        },
        textHandler = {
            text: "",
            selectedFontFamily: "Arial",
            selectedFontSize: "15",
            lastFillStyle: "",
            onShapeSelected: function() { tempContext.canvas.style.cursor = "text", this.x = this.y = this.pageX = this.pageY = 0, this.text = "" },
            onShapeUnSelected: function() { this.text = "", this.showOrHideTextTools("hide"), tempContext.canvas.style.cursor = "default", void 0 !== this.blinkCursorInterval && clearInterval(this.blinkCursorInterval) },
            getFillColor: function(color) { return color = (color || fillStyle).toLowerCase(), "rgba(255, 255, 255, 0)" == color || "transparent" == color || "white" === color ? "black" : color },
            writeText: function(keyPressed, isBackKeyPressed) {
                if (is.isText) {
                    if (isBackKeyPressed) return textHandler.text = textHandler.text.substr(0, textHandler.text.length - 1), void textHandler.fillText(textHandler.text);
                    textHandler.text += keyPressed, textHandler.fillText(textHandler.text)
                }
            },
            fillText: function(text) {
                if (is.isText) {
                    tempContext.clearRect(0, 0, tempContext.canvas.width, tempContext.canvas.height);
                    var options = textHandler.getOptions();
                    drawHelper.handleOptions(tempContext, options), tempContext.fillStyle = textHandler.getFillColor(options[2]), tempContext.font = textHandler.selectedFontSize + 'px "' + textHandler.selectedFontFamily + '"', tempContext.fillText(text, textHandler.x, textHandler.y)
                }
            },
            blinkCursorInterval: null,
            index: 0,
            blinkCursor: function() { textHandler.index++, textHandler.index % 2 == 0 ? textHandler.fillText(textHandler.text + "|") : textHandler.fillText(textHandler.text) },
            getOptions: function() { var options = { font: textHandler.selectedFontSize + 'px "' + textHandler.selectedFontFamily + '"', fillStyle: textHandler.getFillColor(), strokeStyle: "#6c96c8", globalCompositeOperation: "source-over", globalAlpha: 1, lineJoin: "round", lineCap: "round", lineWidth: 2 }; return font = options.font, options },
            appendPoints: function() {
                var options = textHandler.getOptions();
                points[points.length] = ["text", ['"' + textHandler.text + '"', textHandler.x, textHandler.y], drawHelper.getOptions(options)]
            },
            mousedown: function(e) { is.isText && (textHandler.text.length && this.appendPoints(), textHandler.x = textHandler.y = 0, textHandler.text = "", textHandler.pageX = e.pageX, textHandler.pageY = e.pageY, textHandler.x = e.pageX - canvas.offsetLeft - 5, textHandler.y = e.pageY - canvas.offsetTop + 10, void 0 !== textHandler.blinkCursorInterval && clearInterval(textHandler.blinkCursorInterval), textHandler.blinkCursor(), textHandler.blinkCursorInterval = setInterval(textHandler.blinkCursor, 700), this.showTextTools()) },
            mouseup: function(e) {},
            mousemove: function(e) {},
            showOrHideTextTools: function(show) { "hide" === show ? this.lastFillStyle.length && (fillStyle = this.lastFillStyle, this.lastFillStyle = "") : this.lastFillStyle.length || (this.lastFillStyle = fillStyle, fillStyle = "black"), this.fontFamilyBox.style.display = "show" == show ? "block" : "none", this.fontSizeBox.style.display = "show" == show ? "block" : "none", this.fontSizeBox.style.left = this.x + "px", this.fontFamilyBox.style.left = this.fontSizeBox.clientWidth + this.x + "px", this.fontSizeBox.style.top = this.y + "px", this.fontFamilyBox.style.top = this.y + "px" },
            showTextTools: function() { this.fontFamilyBox && this.fontSizeBox && (this.unselectAllFontFamilies(), this.unselectAllFontSizes(), this.showOrHideTextTools("show"), this.eachFontFamily(function(child) { child.onclick = function(e) { e.preventDefault(), textHandler.showOrHideTextTools("hide"), textHandler.selectedFontFamily = this.innerHTML, this.className = "font-family-selected" }, child.style.fontFamily = child.innerHTML }), this.eachFontSize(function(child) { child.onclick = function(e) { e.preventDefault(), textHandler.showOrHideTextTools("hide"), textHandler.selectedFontSize = this.innerHTML, this.className = "font-family-selected" } })) },
            eachFontFamily: function(callback) { for (var childs = this.fontFamilyBox.querySelectorAll("li"), i = 0; i < childs.length; i++) callback(childs[i]) },
            unselectAllFontFamilies: function() { this.eachFontFamily(function(child) { child.className = "", child.innerHTML === textHandler.selectedFontFamily && (child.className = "font-family-selected") }) },
            eachFontSize: function(callback) { for (var childs = this.fontSizeBox.querySelectorAll("li"), i = 0; i < childs.length; i++) callback(childs[i]) },
            unselectAllFontSizes: function() { this.eachFontSize(function(child) { child.className = "", child.innerHTML === textHandler.selectedFontSize && (child.className = "font-size-selected") }) },
            onReturnKeyPressed: function() {
                if (textHandler.text && textHandler.text.length) {
                    var fontSize = parseInt(textHandler.selectedFontSize) || 15;
                    this.mousedown({ pageX: this.pageX, pageY: this.pageY + fontSize + 5 }), drawHelper.redraw()
                }
            },
            fontFamilyBox: document.querySelector(".fontSelectUl"),
            fontSizeBox: document.querySelector(".fontSizeUl")
        },
        arcHandler = {
            global: { ismousedown: !1, prevX: 0, prevY: 0, prevRadius: 0, isCircleDrawn: !1, isCircledEnded: !0, isClockwise: !1, arcRangeContainer: null, arcRange: null },
            mousedown: function(e) {
                var g = this.global,
                    x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop;
                g.prevX = x, g.prevY = y, g.ismousedown = !0
            },
            mouseup: function(e) {
                var g = this.global,
                    x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop;
                if (g.ismousedown)
                    if (!g.isCircleDrawn && g.isCircledEnded) {
                        var prevX = g.prevX,
                            prevY = g.prevY,
                            radius = (x - prevX + (y - prevY)) / 3;
                        g.prevRadius = radius, g.isCircleDrawn = !0, g.isCircleEnded = !1;
                        var angle, c = 2 * Math.PI * radius / 21,
                            xx = prevX > x ? prevX - x : x - prevX,
                            yy = prevY > y ? prevY - y : y - prevY;
                        angle = (xx + yy) / (2 * c), points[points.length] = ["arc", [prevX + radius, prevY + radius, radius, angle, 1], drawHelper.getOptions()];
                        var arcRange = g.arcRange,
                            arcRangeContainer = g.arcRangeContainer;
                        arcRangeContainer.style.display = "block", arcRange.focus(), arcRangeContainer.style.top = y + canvas.offsetTop + 20 + "px", arcRangeContainer.style.left = x + "px", arcRange.value = 2
                    } else g.isCircleDrawn && !g.isCircleEnded && this.end();
                g.ismousedown = !1, this.fixAllPoints()
            },
            mousemove: function(e) {
                var g = this.global,
                    x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    ismousedown = g.ismousedown,
                    isCircleDrawn = g.isCircleDrawn,
                    isCircleEnded = g.isCircledEnded;
                if (ismousedown && !isCircleDrawn && isCircleEnded) {
                    var prevX = g.prevX,
                        prevY = g.prevY,
                        radius = (x - prevX + (y - prevY)) / 3;
                    tempContext.clearRect(0, 0, 2e3, 2e3), drawHelper.arc(tempContext, [prevX + radius, prevY + radius, radius, 2 * Math.PI, !0])
                }
            },
            fixAllPoints: function() { for (var toFixed = this.toFixed, i = 0; i < points.length; i++) { var point, p = points[i]; "arc" === p[0] && (point = p[1], points[i] = ["arc", [toFixed(point[0]), toFixed(point[1]), toFixed(point[2]), toFixed(point[3]), point[4]], p[2]]) } },
            init: function() {
                var markIsClockwise = find("is-clockwise"),
                    g = this.global;
                g.arcRangeContainer = find("arc-range-container"), g.arcRange = find("arc-range"), addEvent(markIsClockwise, "change", function(e) {
                    if (g.isClockwise = markIsClockwise.checked, g.arcRange.value = arcHandler.toFixed(g.arcRange.value), g.arcRange.focus(), arcHandler.arcRangeHandler(e), points.length) {
                        var p = points[points.length - 1],
                            point = p[1];
                        tempContext.clearRect(0, 0, innerWidth, innerHeight), drawHelper.arc(tempContext, [point[0], point[1], point[2], point[3], point[4]])
                    }
                });
                var arcRange = g.arcRange;
                addEvent(arcRange, "keydown", this.arcRangeHandler), addEvent(arcRange, "focus", this.arcRangeHandler)
            },
            arcRangeHandler: function(e) {
                var g = arcHandler.global,
                    arcRange = g.arcRange,
                    key = e.keyCode,
                    value = +arcRange.value;
                if (39 != key && 40 != key || (arcRange.value = (value < 2 ? value : 1.98) + .02), 37 != key && 38 != key || (arcRange.value = (value > 0 ? value : .02) - .02), !key || 13 == key || 39 == key || 40 == key || 37 == key || 38 == key) {
                    var range = Math.PI * arcHandler.toFixed(value),
                        p = points[points.length - 1];
                    if ("arc" === p[0]) {
                        var point = p[1];
                        points[points.length - 1] = ["arc", [point[0], point[1], point[2], range, g.isClockwise ? 1 : 0], p[2]], drawHelper.redraw()
                    }
                }
            },
            toFixed: function(input) { return Number(input).toFixed(1) },
            end: function() {
                var g = this.global;
                g.arcRangeContainer.style.display = "none", g.arcRange.value = 2, g.isCircleDrawn = !1, g.isCircleEnded = !0, drawHelper.redraw()
            }
        };
    arcHandler.init();
    var lineHandler = {
            ismousedown: !1,
            prevX: 0,
            prevY: 0,
            mousedown: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.prevX = x, t.prevY = y, t.ismousedown = !0
            },
            mouseup: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (points[points.length] = ["line", [t.prevX, t.prevY, x, y], drawHelper.getOptions()], t.ismousedown = !1)
            },
            mousemove: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (tempContext.clearRect(0, 0, innerWidth, innerHeight), drawHelper.line(tempContext, [t.prevX, t.prevY, x, y]))
            }
        },
        arrowHandler = {
            ismousedown: !1,
            prevX: 0,
            prevY: 0,
            arrowSize: 10,
            mousedown: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.prevX = x, t.prevY = y, t.ismousedown = !0
            },
            mouseup: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (points[points.length] = ["arrow", [t.prevX, t.prevY, x, y], drawHelper.getOptions()], t.ismousedown = !1)
            },
            mousemove: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (tempContext.clearRect(0, 0, innerWidth, innerHeight), drawHelper.arrow(tempContext, [t.prevX, t.prevY, x, y]))
            }
        },
        rectHandler = {
            ismousedown: !1,
            prevX: 0,
            prevY: 0,
            mousedown: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.prevX = x, t.prevY = y, t.ismousedown = !0
            },
            mouseup: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (points[points.length] = ["rect", [t.prevX, t.prevY, x - t.prevX, y - t.prevY], drawHelper.getOptions()], t.ismousedown = !1)
            },
            mousemove: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (tempContext.clearRect(0, 0, innerWidth, innerHeight), drawHelper.rect(tempContext, [t.prevX, t.prevY, x - t.prevX, y - t.prevY]))
            }
        },
        quadraticHandler = {
            global: { ismousedown: !1, prevX: 0, prevY: 0, controlPointX: 0, controlPointY: 0, isFirstStep: !0, isLastStep: !1 },
            mousedown: function(e) {
                var g = this.global,
                    x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop;
                g.isLastStep || (g.prevX = x, g.prevY = y), g.ismousedown = !0, g.isLastStep && g.ismousedown && this.end(x, y)
            },
            mouseup: function(e) {
                var g = this.global,
                    x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop;
                g.ismousedown && g.isFirstStep && (g.controlPointX = x, g.controlPointY = y, g.isFirstStep = !1, g.isLastStep = !0)
            },
            mousemove: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    g = this.global;
                tempContext.clearRect(0, 0, innerWidth, innerHeight), g.ismousedown && g.isFirstStep && drawHelper.quadratic(tempContext, [g.prevX, g.prevY, x, y, x, y]), g.isLastStep && drawHelper.quadratic(tempContext, [g.prevX, g.prevY, g.controlPointX, g.controlPointY, x, y])
            },
            end: function(x, y) {
                var g = this.global;
                g.ismousedown && (g.isLastStep = !1, g.isFirstStep = !0, g.ismousedown = !1, x = x || g.controlPointX || g.prevX, y = y || g.controlPointY || g.prevY, points[points.length] = ["quadratic", [g.prevX, g.prevY, g.controlPointX, g.controlPointY, x, y], drawHelper.getOptions()])
            }
        },
        bezierHandler = {
            global: { ismousedown: !1, prevX: 0, prevY: 0, firstControlPointX: 0, firstControlPointY: 0, secondControlPointX: 0, secondControlPointY: 0, isFirstStep: !0, isSecondStep: !1, isLastStep: !1 },
            mousedown: function(e) {
                var g = this.global,
                    x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop;
                g.isLastStep || g.isSecondStep || (g.prevX = x, g.prevY = y), g.ismousedown = !0, g.isLastStep && g.ismousedown && this.end(x, y), g.ismousedown && g.isSecondStep && (g.secondControlPointX = x, g.secondControlPointY = y, g.isSecondStep = !1, g.isLastStep = !0)
            },
            mouseup: function(e) {
                var g = this.global,
                    x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop;
                g.ismousedown && g.isFirstStep && (g.firstControlPointX = x, g.firstControlPointY = y, g.isFirstStep = !1, g.isSecondStep = !0)
            },
            mousemove: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    g = this.global;
                tempContext.clearRect(0, 0, innerWidth, innerHeight), g.ismousedown && g.isFirstStep && drawHelper.bezier(tempContext, [g.prevX, g.prevY, x, y, x, y, x, y]), g.ismousedown && g.isSecondStep && drawHelper.bezier(tempContext, [g.prevX, g.prevY, g.firstControlPointX, g.firstControlPointY, x, y, x, y]), g.isLastStep && drawHelper.bezier(tempContext, [g.prevX, g.prevY, g.firstControlPointX, g.firstControlPointY, g.secondControlPointX, g.secondControlPointY, x, y])
            },
            end: function(x, y) {
                var g = this.global;
                g.ismousedown && (g.isLastStep = g.isSecondStep = !1, g.isFirstStep = !0, g.ismousedown = !1, g.secondControlPointX = g.secondControlPointX || g.firstControlPointX, g.secondControlPointY = g.secondControlPointY || g.firstControlPointY, x = x || g.secondControlPointX, y = y || g.secondControlPointY, points[points.length] = ["bezier", [g.prevX, g.prevY, g.firstControlPointX, g.firstControlPointY, g.secondControlPointX, g.secondControlPointY, x, y], drawHelper.getOptions()])
            }
        },
        zoomHandler = { scale: 1, up: function(e) { this.scale += .01, this.apply() }, down: function(e) { this.scale -= .01, this.apply() }, apply: function() { tempContext.scale(this.scale, this.scale), context.scale(this.scale, this.scale), drawHelper.redraw() }, icons: { up: function(ctx) { ctx.font = "22px Verdana", ctx.strokeText("+", 10, 30) }, down: function(ctx) { ctx.font = "22px Verdana", ctx.strokeText("-", 15, 30) } } },
        FileSelector = function() {
            function selectFile(callback, multiple, accept) {
                var file = document.createElement("input");
                file.type = "file", multiple && (file.multiple = !0), file.accept = accept || "image/*", file.onchange = function() { return multiple ? file.files.length ? void callback(file.files) : void console.error("No file selected.") : file.files[0] ? (callback(file.files[0]), void file.parentNode.removeChild(file)) : void console.error("No file selected.") }, file.style.display = "none", (document.body || document.documentElement).appendChild(file), fireClickEvent(file)
            }

            function fireClickEvent(element) {
                var evt = new window.MouseEvent("click", { view: window, bubbles: !0, cancelable: !0, button: 0, buttons: 0, mozInputSource: 1 });
                element.dispatchEvent(evt)
            }
            var selector = this;
            selector.selectSingleFile = selectFile, selector.selectMultipleFiles = function(callback) { selectFile(callback, !0) }
        },
        imageHandler = {
            lastImageURL: null,
            lastImageIndex: 0,
            images: [],
            ismousedown: !1,
            prevX: 0,
            prevY: 0,
            load: function(width, height) {
                var t = imageHandler;
                points[points.length] = ["image", [imageHandler.lastImageURL, t.prevX, t.prevY, width, height, imageHandler.lastImageIndex], drawHelper.getOptions()], document.getElementById("drag-last-path").click(), syncPoints(!0)
            },
            mousedown: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.prevX = x, t.prevY = y, t.ismousedown = !0
            },
            mouseup: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (points[points.length] = ["image", [imageHandler.lastImageURL, t.prevX, t.prevY, x - t.prevX, y - t.prevY, imageHandler.lastImageIndex], drawHelper.getOptions()], t.ismousedown = !1)
            },
            mousemove: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (tempContext.clearRect(0, 0, innerWidth, innerHeight), drawHelper.image(tempContext, [imageHandler.lastImageURL, t.prevX, t.prevY, x - t.prevX, y - t.prevY, imageHandler.lastImageIndex]))
            }
        },
        pdfHandler = {
            lastPdfURL: null,
            lastIndex: 0,
            lastPointIndex: 0,
            removeWhiteBackground: !1,
            pdfPageContainer: document.getElementById("pdf-page-container"),
            pdfPagesList: document.getElementById("pdf-pages-list"),
            pdfNext: document.getElementById("pdf-next"),
            pdfPrev: document.getElementById("pdf-prev"),
            pdfClose: document.getElementById("pdf-close"),
            pageNumber: 1,
            images: [],
            ismousedown: !1,
            prevX: 0,
            prevY: 0,
            getPage: function(pageNumber, callback) {
                if (pageNumber = parseInt(pageNumber) || 1, !pdfHandler.pdf) return pdfjsLib.disableWorker = !1, void pdfjsLib.getDocument(pdfHandler.lastPdfURL).then(function(pdf) { pdfHandler.pdf = pdf, pdfHandler.getPage(pageNumber, callback) });
                var pdf = pdfHandler.pdf;
                pdf.getPage(pageNumber).then(function(page) {
                    pdfHandler.pageNumber = pageNumber;
                    var scale = 1.5,
                        viewport = page.getViewport(scale),
                        cav = document.createElement("canvas"),
                        ctx = cav.getContext("2d");
                    cav.height = viewport.height, cav.width = viewport.width;
                    var renderContext = { canvasContext: ctx, viewport: viewport };
                    !0 === pdfHandler.removeWhiteBackground && (renderContext.background = "rgba(0,0,0,0)"), page.render(renderContext).then(function() {
                        if (!0 === pdfHandler.removeWhiteBackground) {
                            for (var imgd = ctx.getImageData(0, 0, cav.width, cav.height), pix = imgd.data, newColor = { r: 0, g: 0, b: 0, a: 0 }, i = 0, n = pix.length; i < n; i += 4) {
                                var r = pix[i],
                                    g = pix[i + 1],
                                    b = pix[i + 2];
                                255 == r && 255 == g && 255 == b && (pix[i] = newColor.r, pix[i + 1] = newColor.g, pix[i + 2] = newColor.b, pix[i + 3] = newColor.a)
                            }
                            ctx.putImageData(imgd, 0, 0)
                        }
                        pdfHandler.lastPage = cav.toDataURL("image/png"), callback(pdfHandler.lastPage, cav.width, cav.height, pdf.numPages)
                    })
                })
            },
            load: function(lastPdfURL) {
                pdfHandler.lastPdfURL = lastPdfURL, pdfHandler.getPage(parseInt(pdfHandler.pdfPagesList.value || 1), function(lastPage, width, height, numPages) {
                    pdfHandler.prevX = canvas.width - width - parseInt(width / 2);
                    pdfHandler.lastIndex = pdfHandler.images.length;
                    var point = [lastPage, 60, 20, width, height, pdfHandler.lastIndex];
                    pdfHandler.lastPointIndex = points.length, points[points.length] = ["pdf", point, drawHelper.getOptions()], pdfHandler.pdfPagesList.innerHTML = "";
                    for (var i = 1; i <= numPages; i++) {
                        var option = document.createElement("option");
                        option.value = i, option.innerHTML = "Page #" + i, pdfHandler.pdfPagesList.appendChild(option), pdfHandler.pageNumber.toString() == i.toString() && (option.selected = !0)
                    }
                    pdfHandler.pdfPagesList.onchange = function() { pdfHandler.load(lastPdfURL) }, pdfHandler.pdfNext.onclick = function() { pdfHandler.pdfPagesList.selectedIndex++, pdfHandler.pdfPagesList.onchange() }, pdfHandler.pdfPrev.onclick = function() { pdfHandler.pdfPagesList.selectedIndex--, pdfHandler.pdfPagesList.onchange() }, pdfHandler.pdfClose.onclick = function() { pdfHandler.pdfPageContainer.style.display = "none" }, document.getElementById("drag-last-path").click(), pdfHandler.pdfPrev.src = data_uris.pdf_next, pdfHandler.pdfNext.src = data_uris.pdf_prev, pdfHandler.pdfClose.src = data_uris.pdf_close, pdfHandler.pdfPageContainer.style.top = "20px", pdfHandler.pdfPageContainer.style.left = point[3] - parseInt(point[3] / 2) + "px", pdfHandler.pdfPageContainer.style.display = "block", syncPoints(!0)
                })
            },
            mousedown: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.prevX = x, t.prevY = y, t.ismousedown = !0
            },
            mouseup: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (points[pdfHandler.lastPointIndex] && (points[pdfHandler.lastPointIndex] = ["pdf", [pdfHandler.lastPage, t.prevX, t.prevY, x - t.prevX, y - t.prevY, pdfHandler.lastIndex], drawHelper.getOptions()]), t.ismousedown = !1)
            },
            mousemove: function(e) {
                var x = e.pageX - canvas.offsetLeft,
                    y = e.pageY - canvas.offsetTop,
                    t = this;
                t.ismousedown && (tempContext.clearRect(0, 0, innerWidth, innerHeight), drawHelper.pdf(tempContext, [pdfHandler.lastPage, t.prevX, t.prevY, x - t.prevX, y - t.prevY, pdfHandler.lastIndex]))
            },
            reset_pos: function(x, y) {
                if (pdfHandler.pdfPageContainer.style.top = y + "px", points[pdfHandler.lastPointIndex]) {
                    var point = points[pdfHandler.lastPointIndex][1];
                    pdfHandler.pdfPageContainer.style.left = point[1] + point[3] - parseInt(point[3] / 2) - parseInt(pdfHandler.pdfPageContainer.clientWidth / 2) + "px"
                }
            },
            end: function() {}
        },
        icons = {};
    if (params.icons) try { icons = JSON.parse(params.icons) } catch (e) { icons = {} }
    var data_uris = {
            line: icons.line || "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAH5JREFUOE+t1DsKgDAQRdGk0p1pI+jm3ISFre7M0jcQIUg+83twyznlxBDCgA60owuZFnF9ohU9aLOiBM4JHT1QAmlu6Ae6oTnogv5BM1oCTWgNVKMtUIX2QDHKAUUoF2SjEpCFSsEuqgGbqBasohawiFrBHCVr8QAJndJfvV/BPzaiUcZi+gAAAABJRU5ErkJggg==",
            // arrow: icons.arrow || "data:image/png;base64,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",
            pencil: icons.pencil || "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAWCAYAAAAfD8YZAAAABHNCSVQICAgIfAhkiAAAARlJREFUOE+Vk40RATEQRqmAEnSAClABOqADKnAdoAMlUAEqQAWoABXwPZM1cZLc2Zmd5HL79jepVsrLTqZNaSZdglVLsgAzzxZH07LwxEWseQ6OZWCirqR3t/adg00RTMS5A63Wrr4X0kEKrsvgLGU1OWozlrImG7bWf0vR7+tJH60UTGpbn/D2Pe13MZg0D9JGAGa+9OEtoZoznfszNduHc0jXgzC1EDUkQx3Sh4/kI1NLJ0DuddbNn/uwzTRvQ7pkdInBoZma7VQbLsWPWOTCmabgWK1tQe/bFIOpB4ORS89eztdMYzBRb1Jqs5eDQ/Qz0xiMAdFYMykRaWASxBkNe3pery59sikUg5kl40ALI5pXYFL9CzL4Ba8fO+ZcELRPAAAAAElFTkSuQmCC",
            marker: icons.marker || "data:image/png;base64,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",
            dragSingle: icons.dragSingle || "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAVCAYAAACdbmSKAAAABHNCSVQICAgIfAhkiAAAANJJREFUOE+Vkg0RwjAMhTsFWAAJKAAUAA6KApCABCQUB6CA4QAHgANQMN7j0l0p/cly9y7d+r60y9IYYxxkIXU0cHYCbrSUh+jniSowhNRgDKnAFFQFcxDBG7SAXnGDSlAWrEFJUAP9gVroBxwC9eAQ6CpddDXoCOMubnsKOsO0lKoP5EnqP7V4OYPekIX4TPNIzGvkUwjyJJrG0AriFDAO0FbW3Odk9EFoL6ZwXFjkHvimQUFDKBe8kv82NsR6Ywmaw3QR4xOZp3+jBHHfidrwOh9cZTeGT4fkKQAAAABJRU5ErkJggg==",
            dragMultiple: icons.dragMultiple || "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAABHNCSVQICAgIfAhkiAAAATdJREFUSEu9leERAUEMRqmAEnRAByhBBZSghLsK0AEd6MCVoAQlKEGeudzE2pOcMzKTH1byknybZTiI20xCd+Ir8XskbRgJkhjAF/Gx+FV8GSkQgVuw9hIq4MFz4HABD76tpQA4EV+Ll0ZKJji3SevBbd6i1j2cEw4UcG84GgPZZ0b14OQUdots53p5hzoo5XvwShJGdk0VbreCC6ODb+BzSWrWFHi6bkc5w1MjjtGZIGd8Rwz2LAC8Eqfir60EzpOmwLSm95UFzEl8o5rbAn3hTzAV7LZoAV5ckdFoIWf8eLW9Daa/KTiF85kCQHJP2oPT7dE29dcXmlGjOfI6f8v1Omd3dYuQjD1GWzUu70WKLrKka2pzm61oG9frXC+ZbnUCzlwwQRF4WiAE7gLXAvwzFZ9u3X73AKtOQ6iMGa6hAAAAAElFTkSuQmCC",
            eraser: icons.eraser || "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAVCAYAAACt4nWrAAAABHNCSVQICAgIfAhkiAAAAU5JREFUOE+dlDEvBFEYRW2ip6QSHdH4AQoSP8A2REFWoSR+gm3UIiqJ3Y1SJFqNUKklGo2EQrT0gnMn8+QZb7/55k1yspuZ+5375s3Otkbyjzajq7ABnylNK9Mt8TmMwgWspwpy5JuITktxWFuyoKlc4gGk5lSwBl+hsYncEgdfjy/bocArPymHPI/ot8AjP8K447FGmaKgTt4h1Ic3mGxQcEa2Y8mDeIvgFdzAjKOgEMP3MHks1q9Dx4Sj4JjMrsQaSMlT4rBgq0DiP8+mKrfEVsE/cXXlK5y4hC7s1+yt7uAOpuERZlP5eOXjBG5hCpbg3iiYL7OvfM4Ny1W3xVMgsX45L7AI7165cnGBbjsedourex4vIBSMcfI5uiB57YpD3nqJVLCXuOVDayvivOQHxoOzLuk//ckKSF68TRnHMjPXdfKFDLFGHuDDmv0BB8BGGUoKlNkAAAAASUVORK5CYII=",
            rectangle: icons.rectangle || "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAATCAYAAAB7u5a2AAAABHNCSVQICAgIfAhkiAAAAFVJREFUOE9jZGBg+A/ENAGM9DL8INCiA1Twgj3QDAeQOcgubwTyG6hgeD3MnFHDkUNzNFiwpq3RYBkNFuILHaypBVQiUqNUBJWIGKUi8W4jUiVNKwsANzcxASPYVpQAAAAASUVORK5CYII=",
            arc: icons.arc || "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAABHNCSVQICAgIfAhkiAAAAYBJREFUOE+1lYFRAjEQRaEC7UCsQDvwrACtQKhAOhArUCvADtQKxA6gAo4OpAL972aXWWOCnng784dMcvn787NZ+r1yHGrpSqiEU2Fgn9b6XQjPwovwnqPoZyYhvBYmAuNdAem98JAmSIkhejWFkfDNVDKH+rMkGyc4j+SRGNJVULnWeCTMC5IrzWPHga2j/tjJnThVineQZv0Lidj3KAxtbqvciadauLFFSC8KKkvTKHfyW42nEEcLOD4e/qQ0TQBHbbY0lkDM7d/Zl1zAvKVa/7zSgIsnxhDHY+TKr02eD7cTIo5wJFBSZN0nOC2luIDYs1Dk2LJP8Fh4XL1OibuwYtnp5Y1kycyM/ddy+1bcSvKXB+J9ZqP9g9yTpq4vW5ZG9knDgWpq8MQI+XD8C+Xsw0bvLUuNK/albZMKiW0Q5STMBQRPJor1xgIXk2v0UbkTMkdLJGhSkMbYKvXJ0l8TLxC4+oLoRiWvDXy58F1NB//wDnBE9x91tcA9gGwFfQJtNl/0Iia+0gAAAABJRU5ErkJggg==",
            bezier: icons.bezier || "data:image/png;base64,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",
            quadratic: icons.quadratic || "data:image/png;base64,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",
            text: icons.text || "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAATCAYAAACZZ43PAAAABHNCSVQICAgIfAhkiAAAAJRJREFUOE9jZGBgOADE9kBMDmBkRDKgEcheAMQPoCY1AOl6ID4IxA5QMQUoewKQ5gdiuAEgTQloTsBmAEwJSO18mAEwzSCvIAN8BoDU/QdiQZAXQAwQjQ4IGQCysAGk0QGI0W0HGUbIAAOgmgfYbIa5hJABYHWjBoyGweBMB6B8sR9LxoIJgcoMUBKHA3xJGY85CCkA6/kxdHVUsrgAAAAASUVORK5CYII=",
            image: icons.image || "data:image/png;base64,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",
            pdf: icons.pdf || "data:image/png;base64,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",
            zoom_in: icons.zoom_in || "data:image/png;base64,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",
            zoom_out: icons.zoom_out || "data:image/png;base64,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",
            lineWidth: icons.lineWidth || "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgUlEQVR4nO3csU0DMRgF4AdKoKFhGsa5YViCHTIIomEVGlJAAwWhoYAj57N98vdJr7XQ70jBlvMSAAAAAAAAAAAAAAAAYHsuCq93k+QuyW3hdfnykuQpyWvrP+SnfZL7JMckH7JqjqdZ72ftTAWXSQ5pP5jRcjjNvrkp7YcxaqYZ+7O6x7QfxKh5nLE/vyrxT+BbkqsC6/B/70mulyzQxXcI7ZT4ADwXWIPzLJ59iQ/AQ4E1OE8Xs3cMbJNujoFJsouLoFr5vgjazdqZP7gK3pZur4IBAAAAAAAAAACAtjwK3ZZuH4XqB6j/LFw/wODp5ochU9oPY9RMM/ZndfoB2kU/wOD0A7CMfoBt0w8wuC5m7xjYJt0cAxP9ADWjH2Bg3V4FAwAAAAAAAAAAAG15FLot3T4K1Q9Q/1m4foDB080PQ6a0H8aomWbsz+r0A7SLfoDB6QdgGf0A26YfYHBdzN4xsE26OQYm+gFqRj/AwLq9CgYAAAAAAAAAAAAAAABq+gRzFKdEQnj1fQAAAABJRU5ErkJggg==",
            colorsPicker: icons.colorsPicker || "data:image/png;base64,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",
            extraOptions: icons.extraOptions || "data:image/png;base64,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",
            undo: icons.undo || "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABPxJREFUeNrsnVuIVVUYx9dpQiIdvOBtDGa8RILSQz4koWYvRZeXEkRztJd8ExGkSPBRSxDMB0ESxBBpSnyLMCGJChV6SSURpEkcZia8RjqpmTTT97HXYQYcZ87Za5+z917f7wd/BhT1eNZvfWutvdbeuzI0NOTALk/wFSAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAlBq9LyAkJeY5yWeSmabbz6gA70n6JX9LplkWwNoQME/yleSwZI7ktn6HzAFsoL3+R8kaBv5hnjTS63fR8DYrAL3eaAWg1xuuAPR6oxWAXm+4AtDrjVYA7fWfSNbSlPYqQLXX0/jGKgC93nAFoNcbrQD0esMVgF5vtALQ6w1XAHq90QqQR6//jwpgt9dXJE9LWqwKUAk91lWpVEI/Q4fkY0lnDv9/7f2/Sf5yyfEw/XlLck3SI+mT9PqfA0VswOD2y1mATt/4HQXuJPcl170oFyVnJeckl/zvIUDKsV4b/t2SVs5/Jb9Lzki+l/wg+aOMAuRxKniDL69DEUUrxDE/f5nWbAHKcix8ruTLyBp+tFyW7JY8jwDDrI+w14+Xu5IjkhctCzDPSK8fK/9IDrrkTiRTAmww2OvHii4tt/nrDlELoGP9FzT4Y6Mrh5diFaCTXl9T9KLShzEJMJexPlW6JDPKLsBGfxGEBk2XXyQL8xIgi82gQQchvCA5IVma27XkDIaADiZ+mawSXolhEniFxkydm5KVLANt56pkSQwXgqgG6dMtaY/hUjBzg/TR01ETY9kMWkc1SJW9sW0HUw3qiy6x34lFAOYG6aLf1eyYBGBuUH8OxCYAc4P6omcQl8UoQN5zg0G/M6enex8WXILv3Cj3cYS2XxHuCxh5gGRnrevfjPhT8qo/tTPJZ6pLnh/c7uXU4WqBZLrL/0aatyTHy34qeLxq0NXEXqWneVvH+UwtXoiXJZslR3M883DSJXczRTUEPG6l0Iwv+Ybv2fUyRfKGZJ9L7g9olgB6J9MKCwI0a26QVoCRTJa87ZL7AgaaIMEhKwJUWd/AlUIWAoxkkZ/HXG7wjmGbJQEaWQ2yFqCKHvPa6jd1GiHBRmsCNGpu0CgBqsxyydNL72UswNdWBci6GjRagCp6DPznDAXQW9jnWBUgy7lBswSorhz2ZyjBKusCZFENmilAlS2SBxkIsAcBwncY8xBAWe2G31eUNj/plUkECNthzEsA5U1/KTrkFPFMBAirBnkKoLwuuROwkbWc18Y9ilaBlX5PoejoDSHv++3euvfhXHL7fRCxvjSqx1eC6oMpioxeQv4g5Z99NvhfN/Dm0LFWCnkPASPZk2IY+Jw5QNjcoEgCTJB8W6cA3yBA2EqhSAIoz7j6NpJOI0D6atDnL8jMKNhne81PCmsR4FcESM98l7w+vq2An21HjQJ0I0A4RVwJPSU5VYMAvVwHCKeID7jQQ6qbXPIA67FoidF+SDjvkrME5sofDPOpS84RNKx6IUCx0aFgq1+tUAGMog+WPIAAttFl4ZVRfr2CADbQo+DbEcA2+iTW4whgF73w85HL+OVVCFAuLjh/GNQzIfQvLNLt4VAbrX4o0FfS9Ev7Lc5VACg3DAEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgApeN/AQYAUjtq/Zx6jVYAAAAASUVORK5CYII=",
            pdf_next: icons.pdf_next || "data:image/png;base64,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",
            pdf_prev: icons.pdf_prev || "data:image/png;base64,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",
            pdf_close: icons.pdf_close || "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAYAAAA+s9J6AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAScwAAEnMBjCK5BwAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS4xYyqcSwAAD0ZJREFUeF7t3c1vXeURBnBAAgHKFljBHvJPQKWwigQU2kBVClSKVVolNIldiEEJSQg4jo2aoKQQYsuW2n27gG2kbvkLWoFUFsmqSK0Em7J4O3PuOErs5/p+nTPvmfHzSD8JJva9c945x/b9OueeUgoRVQSLROQHFonIDywSkR9YJCI/sEhEfmCRiPzAIhH5gUUi8gOLROQHFonIDywSkR9YJCI/sEhEfmCRiPzAIhH5gUUi8gOLROQHFonIDywSkR9YJCI/sEhEfmCRiPzAIhH5gUUi8gOLROQHFonIDywSkR9YJCI/sEhEfmCRiPzAIhH5gUUi8gOLROQHFonIDywSkR9YJCI/sEhEfmCRiPzAIhH5gUUi8gOLROQHFonIDywSkR9YJCI/sEhEfmCRiPzAIhH5gUUi8gOLROQHFonIDywSkR9YJCI/sEhEfmCRiPzAIhH5gUUi8gOLROQHFonIDywSkR9YJCI/sEhEfmAxGyZ30MwjgcVsmNxBM48EFrNhcgfNPBJYzKbNlOX1fcr+l5kwXawfmnkksJhNWynPHXuyvPx2KT//Q5Ed6UkrM2NG16xZO11DWUsrzxw080hgMZs2IjvNwfLKO6X84uTAT0+UsrJx0P6ZGRFdq2bNttZP11LW1P55pqCZRwKL2cwa2Vnmb+88d9Kd6sL6vH0ZMyS6RncdgHeStbUvmzpo5pHAYjazpDx/7Drceba8tFDK+WvX7cuZbdG1adYIrd0WWWP78qmCZh4JLGYzbcoLx2/AnWY7fZzz/tUb9m2MRdekWRu0ZtvJWtu3TRw080hgMZtpIn8+fQ13lmEOvV3Ku598bd++56Nr0awJWqthZM3t2ycKmnkksJjNJJHHKPeXF098D3eSUV5+p5SFj78vKxv3283tuei2N2uga4HWaBRde5mB3dxYQTOPBBazGTcy/EfKS/N45xiXPut3ZEmfOX3EbnbPRLe52fY7n0Wehs5AZmE3OzJo5pHAYjbjRIa+v/xszMcv45g7qwfifrv59NFtbbYZrcU0dBYyE7v5XYNmHgksZjMqMuwD5VCLB+CW10/pgXjA7iZtdBubbUVrMAudiczG7mZo0MwjgcVsdosM+XDzDg60E7Thl+/qgXjY7i5ddNuabUTb3obBu2t2XT8080hgMZthkeEuz/z4ZRx6H8vry3a3aaLb5LZ+Miu72x1BM48EFrNBkaF+4bIDbdGf6MvrX9jdh49uS6d/QWw3OBDh+qGZRwKL2WyPDPOm6wG4ZXAg3rQ2wka3wfUA3DI4EHesH5p5JLCYzfbI45hbE7+Q3BbdkT78XB8n3mvthIn23PRe4weY0pmtbt6ydm4HzTwSWMwGRXaoL6sdiGrxsv5WfMja6X2016ZntC0edFYyM2vnrqCZRwKL2QyLDPVitZ/q6thFPRAfs3Z6G+2x6RVtgwedkczK2tkRNPNIYDGb3SI72FynT7GP8psP9EDs7QeEtbemR9S7B52NzMjagUEzjwQWsxkVGfKznbzYPK5fn9af9M9YO72J9tT0hnr28IbMRGZj7QwNmnkksJjNOJFh7y9z5/DO4GHwov5r1k71aC9V/0LQWchMrJ1dg2YeCSxmM25kx3u0HL1Q79k//eTBysYZa6datIepPwUxK117nYHMwtoZGTTzSGAxm0kiw3+gzK/+UG0n1A/BLq392dpxj9732B/EbZuuua69zMDaGSto5pHAYjbTpCxe+qbaSxh6EJz509+tFbfofVY7AHWtZc2tlYmCZh4JLGYzbcqpK+OfnqFt+o6Uxcv/sFY6j95XlXfBKF1jWWtrZeKgmUcCi9nMknL+2trIExV1RR8fHbv4b2uls+h9VHscPDhR1pq1MlXQzCOBxWxmTbmwvjD0lH1d04PjzfP/s1Zaj952tQNwcMrIBWtl6qCZRwKL2bSRsv3ktd4GHxB+0NqZOXpbVV8b1bVc3eTJfwUsZtNWZMd9qnn8Uus3h1rZeNzamTp6G/C2Peja6Rqubj5l7cwcNPNIYDGbNiM78L7y6ns/1nsMNV/KR9eftnYmjn7vzCezmpauma6drKG100rQzCOBxWy6SJk799+qj6XOffY7a2Xs6PdUfWwra2attBo080hgMZuuUo4sfVvtaX39bXbqyh+tlZHRr632G1DX6OjSt9ZK60EzjwQWs+ky5cTqV52cqW0celrAxct/tVaGRr+m1dM5TkLXZn71K2ulk6CZRwKL2XSdcvLS3+ru5B8P3cn136r+kJC1sVY6C5p5JLCYjUfK6auXqv65d2TpX9bK7Wit6p/LsibWSqdBM48EFrPxSv0nPs7+x1q5R/872hNH0wbNPBJYzMYzZWntmfJixZcAXnvvx0atA1C3/cK66weU0cwjgcVsvFNWNp4or4AdNDvd5tXNJ2wZ3IJmHgksZlMjciA+WN6oeGoIb7qtLb6tbpKgmUcCi9nUTPnth/XeIO1Bt0220Ta3StDMI4HFbGqnHF/5LuWBqNt0YuU728xqQTOPBBaz6UPK4uV/Vnu5oAu6LbJNtnlVg2YeCSxm05c0p4+o9cJ5m3QbKpx+Y1jQzCOBxWz6lLK09pdqp8xog/Yu22Cb04ugmUcCi9n0LWV5/Wy1s7nNQnuW3m0zehM080hgMZs+RnbmuifXndSrzenoe3Ny4juDZh4JLGbT18hO/ZMQryVqj9Krtd27oJlHAovZ9DlFT5lR84Iro2hv0qO128ugmUcCi9n0PbKTP1beuoAPgpq0J+nN2uxt0MwjgcVsIkR29ofLyUv4YKhBe1ndfNja63XQzCOBxWyiRA7E+8oHnw3eiYIODA9633pJ7NXN+6yt3gfNPBJYzCZK5CC8t0cHYZhr6qOZRwKL2USIHIAP9fDP0RDX1EczjwQWs+l79MmP8tYyPhhq0p74xEznYDGbPkd28rrXhB9l8BJFb6+pr0EzjwQWs+lryvJ63WvCj0t7lF6t7d4FzTwSWMymj9G3gIV625r2yretdQIWs+lbZGc+U/UZ0Glpz9K7bUZvgmYeCSxm06dUvSZ8GwYfZap2TX0UNPNIYDGbvqSc+bTeNeHbpNsg22KbVT1o5pHAYjZ9SNVrwndhcHoLt2vq7xY080hgMZvaKcdX6l0Tvku6TSdWO7+m/qigmUcCi9nUDE952H3QzCOBxWxqpPDkv25BM48EFrPxjuyMj+/h0+DPfE39SYNmHgksZuOZsrT2NC8Isz71NfWnCZp5JLCYjVd6cGm029eE1/+udiDy0mgTgcVsPFJOX617TfgjO68JX/2a+rIm1kqnQTOPBBaz6Trl5KXeXhNe/63y5bJHXlN/1qCZRwKL2XSZ6jv54uWR14TXr+nrD4k2gmYeCSxm01WqXxP+1JWxrwmvX1v1z+WjO6+p31bQzCOBxWy6SJk7V/ea8Gc/nfiJD/2euk8cnbt9Tf02g2YeCSxm02bKysa+8quKLwHob7OPrk/9AVv93mq/EXXNdO1kDa2dVoJmHgksZtNWZOd5svkEQa0DUF8MX9mY+ZrwehvV3kyga6druLrZ2ikz0MwjgcVs2ojsuAer/SmnXj/V6tvC9Laa20T35UHXcnXzoLUzU9DMI4HFbGZNubA+X/Wx1JvnO3uDtN52td/suqayttbK1EEzjwQWs5kl5fy16+WlBbwTdU0PjmMXO78mvN5HtQNR11bW2FqZKmjmkcBiNtOmnL5yo9on4QcfmnW7JrzeV7WXW3SNZa2tlYmDZh4JLGYzTcripa/LoUo7ZaVrwle9pr6utay5tTJR0MwjgcVsJklZ2bi/zK9+X+1y1vpboeI14fW+6/32lzXXtZcZWDtjBc08EljMZtzI8B8pRy/UewlCd8KVjerXhNceqv0Q0rXXGcgsrJ2RQTOPBBazGSdleX1/mTuHdwwPenLdlY3enFxXe6l6cmKdhczE2tk1aOaRwGI2oyLDPlD1NbPBqSF6d0147anqKToG18o/YO0MDZp5JLCYzW6RIR+u+hNfL7iyvN7ba8Jrb1UvWDM4/f5hawcGzTwSWMxmWOQn/XK1x3/q9xd1B+v/pcekx6ZXtA0edEYyK2tnR9DMI4HFbFBkqF9Ue11MLV7WAzDENeE12mvTM9oWDzormZm1c1fQzCOBxWy2R4Z5s9oBqD/Vz3+uO1SYa8JvRXtueq/27LHMbHXzprVzO2jmkcBiNttTnjt2q8qOpC9IL6/fsjbCRrehyhsZdGYyO2vjdtDMI4HFbFBkmF+6HoiDA/BLu/vw0W1xPRAHByBcPzTzSGAxm2GRoV50ORD1PpbXL9rdpoluk9v6yazsbncEzTwSWMxmt8hw5zp9fDh4EX7O7i5ddNs6fYlHZyMzsruDQTOPBBazGRUZ8rOdvHF58EHcZ+1u0ka3sZM3O+hMZDZ2N0ODZh4JLGYzTmTY+1s9LeDcWT0Ax3rbVYbotjbbjNZiGjoLmYnd/K5BM48EFrMZNzL0R2c+CZI+fjmypAfgo3azeya6zc22z/o4UWcgs7CbHRk080hgMZtJIsN/oLx44ge4c4yinzxY+PgH2RkfsJvbc9Ftb9Zg2k9h6NrLDOzmxgqaeSSwmM00KS+c+AbuJMPo0/XvfvKNffuej67FxC9hyJrbt08UNPNIYDGbaVNeOH4D7izb6Ydg37869ekZskbXZOwPCMta27dNHDTzSGAxm1lSnj+2BneaLXqiog+urdmXM9uiazPyRFmyxvblUwXNPBJYzGbWyGOUBbjzDE7Zt2BfxgyJrtHQU0bK2tqXTR0080hgMZs2IjvLwbue9dOdamWjlZPX7oXoWt11IA7eBcOT/wpYzKatyE7zVPOsnz7O6fEHcfsaXbNm7XQNZS2tPHPQzCOBxWzajOxI+5T9LzNhulg/NPNIYDEbJnfQzCOBxWyY3EEzjwQWs2FyB808ElgkIj+wSER+YJGI/MAiEfmBRSLyA4tE5AcWicgPLBKRH1gkIj+wSER+YJGI/MAiEfmBRSLyA4tE5AcWicgPLBKRH1gkIj+wSER+YJGI/MAiEfmBRSLyA4tE5AcWicgPLBKRH1gkIj+wSER+YJGI/MAiEfmBRSLyA4tE5AcWicgPLBKRH1gkIj+wSER+YJGI/MAiEfmBRSLyA4tE5AcWicgPLBKRH1gkIj+wSER+YJGI/MAiEfmBRSLyA4tE5AcWicgPLBKRH1gkIj+wSER+YJGI/MAiEfmBRSLyA4tE5AcWichLuef/FUFA5GE1HpsAAAAASUVORK5CYII="
        },
        tools = { line: !0, arrow: !0, pencil: !0, marker: !0, dragSingle: !0, dragMultiple: !0, eraser: !0, rectangle: !0, arc: !0, bezier: !0, quadratic: !0, text: !0, image: !0, pdf: !0, zoom: !0, lineWidth: !0, colorsPicker: !0, extraOptions: !0, code: !0, undo: !0 };
    if (params.tools) try {
            var t = JSON.parse(params.tools);
            tools = t
        } catch (e) {}!0 === tools.code && (document.querySelector(".preview-panel").style.display = "block"), is.set(window.selectedIcon), window.addEventListener("load", function() { setDefaultSelectedIcon() }, !1),
        function() {
            function getContext(id) { var context = find(id).getContext("2d"); return context.lineWidth = 2, context.strokeStyle = "#6c96c8", context }

            function bindEvent(context, shape) {
                "Pencil" !== shape && "Marker" !== shape || (lineCap = lineJoin = "round"), addEvent(context.canvas, "click", function() {
                    if (textHandler.text.length && textHandler.appendPoints(), "Text" === shape ? textHandler.onShapeSelected() : textHandler.onShapeUnSelected(), "Pencil" !== shape && "Marker" !== shape || (lineCap = lineJoin = "round"), dragHelper.global.startingIndex = 0, setSelection(this, shape), "drag-last-path" === this.id ? (find("copy-last").checked = !0, find("copy-all").checked = !1) : "drag-all-paths" === this.id && (find("copy-all").checked = !0, find("copy-last").checked = !1), "image-icon" === this.id) {
                        var selector = new FileSelector;
                        selector.accept = "image/*", selector.selectSingleFile(function(file) {
                            if (file) {
                                var reader = new FileReader;
                                reader.onload = function(event) {
                                    var image = new Image;
                                    image.onload = function() {
                                        var index = imageHandler.images.length;
                                        imageHandler.lastImageURL = image.src, imageHandler.lastImageIndex = index, imageHandler.images.push(image), imageHandler.load(image.clientWidth, image.clientHeight)
                                    }, image.style = "position: absolute; top: -99999999999; left: -999999999;", document.body.appendChild(image), image.src = event.target.result
                                }, reader.readAsDataURL(file)
                            }
                        })
                    }
                    if ("pdf-icon" === this.id) {
                        var selector = new FileSelector;
                        selector.selectSingleFile(function(file) {
                            function onGettingPdf() {
                                var reader = new FileReader;
                                reader.onload = function(event) { pdfHandler.pdf = null, pdfHandler.load(event.target.result) }, reader.readAsDataURL(file)
                            }
                            file && onGettingPdf()
                        }, null, "application/pdf")
                    }
                    "pencil-icon" === this.id || "eraser-icon" === this.id || "marker-icon" === this.id ? (cache.lineCap = lineCap, cache.lineJoin = lineJoin, lineCap = lineJoin = "round") : cache.lineCap && cache.lineJoin && (lineCap = cache.lineCap, lineJoin = cache.lineJoin), "eraser-icon" === this.id ? (cache.strokeStyle = strokeStyle, cache.fillStyle = fillStyle, cache.lineWidth = lineWidth, strokeStyle = "White", fillStyle = "White", lineWidth = 10) : cache.strokeStyle && cache.fillStyle && void 0 !== cache.lineWidth && (strokeStyle = cache.strokeStyle, fillStyle = cache.fillStyle, lineWidth = cache.lineWidth)
                })
            }

            function decorateDragLastPath() {
                var context = getContext("drag-last-path"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 14, 9, 13, 21), bindEvent(context, "DragLastPath") }, image.src = data_uris.dragSingle
            }

            function decorateDragAllPaths() {
                var context = getContext("drag-all-paths"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 10, 9, 23, 23), bindEvent(context, "DragAllPaths") }, image.src = data_uris.dragMultiple
            }

            function decorateLine() {
                var context = getContext("line"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 10, 9, 20, 20), bindEvent(context, "Line") }, image.src = data_uris.line
            }

            function decorateUndo() {
                var context = getContext("undo"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 4, 4, 32, 32), document.querySelector("#undo").onclick = function() { points.length && (points.length = points.length - 1, drawHelper.redraw()), syncPoints(!0) } }, image.src = data_uris.undo
            }

            function decorateArrow() {
                var context = getContext("arrow"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 14, 9, 15, 22), bindEvent(context, "Arrow") }, image.src = data_uris.arrow
            }

            function decoreZoomUp() {
                var context = getContext("zoom-up");
                addEvent(context.canvas, "click", function() { zoomHandler.up() });
                var image = new Image;
                image.onload = function() { context.drawImage(image, 14, 9, 15, 22) }, image.src = data_uris.zoom_in
            }

            function decoreZoomDown() {
                var context = getContext("zoom-down");
                addEvent(context.canvas, "click", function() { zoomHandler.down() });
                var image = new Image;
                image.onload = function() { context.drawImage(image, 14, 9, 15, 22) }, image.src = data_uris.zoom_out
            }

            function decoratePencil() {
                function hexToRGBA(h, alpha) { return "rgba(" + hexToRGB(h).join(",") + ",1)" }
                var colors = [
                        ["FFFFFF", "006600", "000099", "CC0000", "8C4600"],
                        ["CCCCCC", "00CC00", "6633CC", "FF0000", "B28500"],
                        ["666666", "66FFB2", "006DD9", "FF7373", "FF9933"],
                        ["333333", "26FF26", "6699FF", "CC33FF", "FFCC99"],
                        ["000000", "CCFF99", "BFDFFF", "FFBFBF", "FFFF33"]
                    ],
                    context = getContext("pencil-icon"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 14, 9, 15, 22), bindEvent(context, "Pencil") }, image.src = data_uris.pencil;
                var pencilContainer = find("pencil-container"),
                    pencilColorContainer = find("pencil-fill-colors"),
                    strokeStyleText = find("pencil-stroke-style"),
                    pencilColorsList = find("pencil-colors-list"),
                    fillStyleText = find("pencil-fill-style"),
                    pencilSelectedColor = find("pencil-selected-color"),
                    pencilSelectedColor2 = find("pencil-selected-color-2"),
                    btnPencilDone = find("pencil-done"),
                    canvas = context.canvas,
                    alpha = .2;
                pencilStrokeStyle = hexToRGBA(fillStyleText.value, alpha), pencilSelectedColor.style.backgroundColor = pencilSelectedColor2.style.backgroundColor = "#" + fillStyleText.value, colors.forEach(function(colorRow) {
                    var row = "<tr>";
                    colorRow.forEach(function(color) { row += '<td style="background-color:#' + color + '" data-color="' + color + '"></td>' }), row += "</tr>", pencilColorsList.innerHTML += row
                }), Array.prototype.slice.call(pencilColorsList.getElementsByTagName("td")).forEach(function(td) {
                    addEvent(td, "mouseover", function() {
                        var elColor = td.getAttribute("data-color");
                        pencilSelectedColor2.style.backgroundColor = "#" + elColor, fillStyleText.value = elColor
                    }), addEvent(td, "click", function() {
                        var elColor = td.getAttribute("data-color");
                        pencilSelectedColor.style.backgroundColor = pencilSelectedColor2.style.backgroundColor = "#" + elColor, fillStyleText.value = elColor, pencilColorContainer.style.display = "none"
                    })
                }), addEvent(canvas, "click", function() { hideContainers(), pencilContainer.style.display = "block", pencilContainer.style.top = canvas.offsetTop + 1 + "px", pencilContainer.style.left = canvas.offsetLeft + canvas.clientWidth + "px", fillStyleText.focus() }), addEvent(btnPencilDone, "click", function() { pencilContainer.style.display = "none", pencilColorContainer.style.display = "none", pencilLineWidth = strokeStyleText.value, pencilStrokeStyle = hexToRGBA(fillStyleText.value, alpha) }), addEvent(pencilSelectedColor, "click", function() { pencilColorContainer.style.display = "block" })
            }

            function decorateMarker() {
                function hexToRGBA(h, alpha) { return "rgba(" + hexToRGB(h).join(",") + "," + alpha + ")" }
                var colors = [
                        ["FFFFFF", "006600", "000099", "CC0000", "8C4600"],
                        ["CCCCCC", "00CC00", "6633CC", "FF0000", "B28500"],
                        ["666666", "66FFB2", "006DD9", "FF7373", "FF9933"],
                        ["333333", "26FF26", "6699FF", "CC33FF", "FFCC99"],
                        ["000000", "CCFF99", "BFDFFF", "FFBFBF", "FFFF33"]
                    ],
                    context = getContext("marker-icon"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 14, 9, 15, 22), bindEvent(context, "Marker") }, image.src = data_uris.marker;
                var markerContainer = find("marker-container"),
                    markerColorContainer = find("marker-fill-colors"),
                    strokeStyleText = find("marker-stroke-style"),
                    markerColorsList = find("marker-colors-list"),
                    fillStyleText = find("marker-fill-style"),
                    markerSelectedColor = find("marker-selected-color"),
                    markerSelectedColor2 = find("marker-selected-color-2"),
                    btnMarkerDone = find("marker-done"),
                    canvas = context.canvas,
                    alpha = .2;
                markerStrokeStyle = hexToRGBA(fillStyleText.value, alpha), markerSelectedColor.style.backgroundColor = markerSelectedColor2.style.backgroundColor = "#" + fillStyleText.value, colors.forEach(function(colorRow) {
                    var row = "<tr>";
                    colorRow.forEach(function(color) { row += '<td style="background-color:#' + color + '" data-color="' + color + '"></td>' }), row += "</tr>", markerColorsList.innerHTML += row
                }), Array.prototype.slice.call(markerColorsList.getElementsByTagName("td")).forEach(function(td) {
                    addEvent(td, "mouseover", function() {
                        var elColor = td.getAttribute("data-color");
                        markerSelectedColor2.style.backgroundColor = "#" + elColor, fillStyleText.value = elColor
                    }), addEvent(td, "click", function() {
                        var elColor = td.getAttribute("data-color");
                        markerSelectedColor.style.backgroundColor = markerSelectedColor2.style.backgroundColor = "#" + elColor, fillStyleText.value = elColor, markerColorContainer.style.display = "none"
                    })
                }), addEvent(canvas, "click", function() { hideContainers(), markerContainer.style.display = "block", markerContainer.style.top = canvas.offsetTop + 1 + "px", markerContainer.style.left = canvas.offsetLeft + canvas.clientWidth + "px", fillStyleText.focus() }), addEvent(btnMarkerDone, "click", function() { markerContainer.style.display = "none", markerColorContainer.style.display = "none", markerLineWidth = strokeStyleText.value, markerStrokeStyle = hexToRGBA(fillStyleText.value, alpha) }), addEvent(markerSelectedColor, "click", function() { markerColorContainer.style.display = "block" })
            }

            function decorateEraser() {
                var context = getContext("eraser-icon"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 10, 9, 23, 21), bindEvent(context, "Eraser") }, image.src = data_uris.eraser
            }

            function decorateText() {
                var context = getContext("text-icon"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 12, 9, 16, 19), bindEvent(context, "Text") }, image.src = data_uris.text
            }

            function decorateImage() {
                var context = getContext("image-icon"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 14, 9, 15, 22), bindEvent(context, "Image") }, image.src = data_uris.image
            }

            function decoratePDF() {
                var context = getContext("pdf-icon"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 14, 9, 15, 22), bindEvent(context, "Pdf") }, image.src = data_uris.pdf
            }

            function decorateArc() {
                var context = getContext("arc"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 10, 9, 22, 22), bindEvent(context, "Arc") }, image.src = data_uris.arc
            }

            function decorateRect() {
                var context = getContext("rectangle"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 10, 9, 23, 19), bindEvent(context, "Rectangle") }, image.src = data_uris.rectangle
            }

            function decorateQuadratic() {
                var context = getContext("quadratic-curve"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 14, 9, 15, 22), bindEvent(context, "QuadraticCurve") }, image.src = data_uris.quadratic
            }

            function decorateBezier() {
                var context = getContext("bezier-curve"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 14, 9, 15, 22), bindEvent(context, "Bezier") }, image.src = data_uris.bezier
            }

            function decorateLineWidth() {
                var context = getContext("line-width"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 14, 9, 15, 22) }, image.src = data_uris.lineWidth;
                var lineWidthContainer = find("line-width-container"),
                    lineWidthText = find("line-width-text"),
                    btnLineWidthDone = find("line-width-done"),
                    canvas = (document.getElementsByTagName("h1")[0], context.canvas);
                addEvent(canvas, "click", function() { hideContainers(), lineWidthContainer.style.display = "block", lineWidthContainer.style.top = canvas.offsetTop + 1 + "px", lineWidthContainer.style.left = canvas.offsetLeft + canvas.clientWidth + "px", lineWidthText.focus() }), addEvent(btnLineWidthDone, "click", function() { lineWidthContainer.style.display = "none", lineWidth = lineWidthText.value })
            }

            function decorateColors() {
                var context = getContext("colors"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 14, 9, 15, 22) }, image.src = data_uris.colorsPicker;
                var colorsContainer = find("colors-container"),
                    strokeStyleText = find("stroke-style"),
                    fillStyleText = find("fill-style"),
                    btnColorsDone = find("colors-done"),
                    canvas = (document.getElementsByTagName("h1")[0], context.canvas);
                addEvent(canvas, "click", function() { hideContainers(), colorsContainer.style.display = "block", colorsContainer.style.top = canvas.offsetTop + 1 + "px", colorsContainer.style.left = canvas.offsetLeft + canvas.clientWidth + "px", strokeStyleText.focus() }), addEvent(btnColorsDone, "click", function() { colorsContainer.style.display = "none", strokeStyle = strokeStyleText.value, fillStyle = fillStyleText.value })
            }

            function decorateAdditionalOptions() {
                var context = getContext("additional"),
                    image = new Image;
                image.onload = function() { context.drawImage(image, 14, 9, 15, 22) }, image.src = data_uris.extraOptions;
                var additionalContainer = find("additional-container"),
                    btnAdditionalClose = find("additional-close"),
                    canvas = (document.getElementsByTagName("h1")[0], context.canvas),
                    globalAlphaSelect = find("globalAlpha-select"),
                    globalCompositeOperationSelect = find("globalCompositeOperation-select");
                addEvent(canvas, "click", function() { hideContainers(), additionalContainer.style.display = "block", additionalContainer.style.top = canvas.offsetTop + 1 + "px", additionalContainer.style.left = canvas.offsetLeft + canvas.clientWidth + "px" }), addEvent(btnAdditionalClose, "click", function() { additionalContainer.style.display = "none", globalAlpha = globalAlphaSelect.value, globalCompositeOperation = globalCompositeOperationSelect.value, lineCap = lineCapSelect.value, lineJoin = lineJoinSelect.value })
            }

            function btnDesignerPreviewClicked() { codeText.parentNode.style.display = "none", optionsContainer.style.display = "none", hideContainers(), endLastPath() }

            function btnCodePreviewClicked() { codeText.parentNode.style.display = "block", optionsContainer.style.display = "block", codeText.focus(), common.updateTextArea(), setHeightForCodeAndOptionsContainer(), hideContainers(), endLastPath() }

            function setHeightForCodeAndOptionsContainer() { codeText.style.width = innerWidth - optionsContainer.clientWidth - 30 + "px", codeText.style.height = innerHeight - 40 + "px", codeText.style.marginLeft = optionsContainer.clientWidth + "px", optionsContainer.style.height = innerHeight + "px" }
            var cache = {},
                lineCapSelect = find("lineCap-select"),
                lineJoinSelect = find("lineJoin-select");
            find("tool-box").style.height = innerHeight + "px", decorateDragLastPath(), !0 === tools.dragSingle && (document.getElementById("drag-last-path").style.display = "block"), decorateDragAllPaths(), !0 === tools.dragMultiple && (document.getElementById("drag-all-paths").style.display = "block"), !0 === tools.line && (decorateLine(), document.getElementById("line").style.display = "block"), !0 === tools.undo && (decorateUndo(), document.getElementById("undo").style.display = "block"), !0 === tools.arrow && (decorateArrow(), document.getElementById("arrow").style.display = "block"), !0 === tools.zoom && (decoreZoomUp(), decoreZoomDown(), document.getElementById("zoom-up").style.display = "block", document.getElementById("zoom-down").style.display = "block"), !0 === tools.pencil && (decoratePencil(), document.getElementById("pencil-icon").style.display = "block"), !0 === tools.marker && (decorateMarker(), document.getElementById("marker-icon").style.display = "block"), !0 === tools.eraser && (decorateEraser(), document.getElementById("eraser-icon").style.display = "block"), !0 === tools.text && (decorateText(), document.getElementById("text-icon").style.display = "block"), !0 === tools.image && (decorateImage(), document.getElementById("image-icon").style.display = "block"), !0 === tools.pdf && (decoratePDF(), document.getElementById("pdf-icon").style.display = "block"), !0 === tools.arc && (decorateArc(), document.getElementById("arc").style.display = "block"), !0 === tools.rectangle && (decorateRect(), document.getElementById("rectangle").style.display = "block"), !0 === tools.quadratic && (decorateQuadratic(), document.getElementById("quadratic-curve").style.display = "block"), !0 === tools.bezier && (decorateBezier(), document.getElementById("bezier-curve").style.display = "block"), !0 === tools.lineWidth && (decorateLineWidth(), document.getElementById("line-width").style.display = "block"), !0 === tools.colorsPicker && (decorateColors(), document.getElementById("colors").style.display = "block"), !0 === tools.extraOptions && (decorateAdditionalOptions(), document.getElementById("additional").style.display = "block");
            var designPreview = find("design-preview"),
                codePreview = find("code-preview");
            window.selectBtn = function(btn, isSkipWebRTCMessage) {
                codePreview.className = designPreview.className = "", btn == designPreview ? designPreview.className = "preview-selected" : codePreview.className = "preview-selected", !isSkipWebRTCMessage && window.connection && connection.numberOfConnectedUsers >= 1 ? connection.send({ btnSelected: btn.id }) : btn == designPreview ? btnDesignerPreviewClicked() : btnCodePreviewClicked()
            }, addEvent(designPreview, "click", function() { selectBtn(designPreview), btnDesignerPreviewClicked() }), addEvent(codePreview, "click", function() { selectBtn(codePreview), btnCodePreviewClicked() });
            var codeText = find("code-text"),
                optionsContainer = find("options-container"),
                isAbsolute = find("is-absolute-points");
            addEvent(find("is-shorten-code"), "change", common.updateTextArea), addEvent(isAbsolute, "change", common.updateTextArea)
        }();
    var canvas = tempContext.canvas,
        isTouch = "createTouch" in document;
    addEvent(canvas, isTouch ? "touchstart mousedown" : "mousedown", function(e) {
        isTouch && (e = e.pageX ? e : e.touches.length ? e.touches[0] : { pageX: 0, pageY: 0 });
        var cache = is;
        cache.isLine ? lineHandler.mousedown(e) : cache.isArc ? arcHandler.mousedown(e) : cache.isRectangle ? rectHandler.mousedown(e) : cache.isQuadraticCurve ? quadraticHandler.mousedown(e) : cache.isBezierCurve ? bezierHandler.mousedown(e) : cache.isDragLastPath || cache.isDragAllPaths ? dragHelper.mousedown(e) : cache.isPencil ? pencilHandler.mousedown(e) : cache.isEraser ? eraserHandler.mousedown(e) : cache.isText ? textHandler.mousedown(e) : cache.isImage ? imageHandler.mousedown(e) : cache.isPdf ? pdfHandler.mousedown(e) : cache.isArrow ? arrowHandler.mousedown(e) : cache.isMarker && markerHandler.mousedown(e), !cache.isPdf && drawHelper.redraw(), preventStopEvent(e)
    }), addEvent(canvas, isTouch ? "touchend touchcancel mouseup" : "mouseup", function(e) {
        !isTouch || e && "pageX" in e || (e = e && e.touches && e.touches.length ? e.touches[0] : e && e.changedTouches && e.changedTouches.length ? e.changedTouches[0] : { pageX: 0, pageY: 0 });
        var cache = is;
        cache.isLine ? lineHandler.mouseup(e) : cache.isArc ? arcHandler.mouseup(e) : cache.isRectangle ? rectHandler.mouseup(e) : cache.isQuadraticCurve ? quadraticHandler.mouseup(e) : cache.isBezierCurve ? bezierHandler.mouseup(e) : cache.isDragLastPath || cache.isDragAllPaths ? dragHelper.mouseup(e) : cache.isPencil ? pencilHandler.mouseup(e) : cache.isEraser ? eraserHandler.mouseup(e) : cache.isText ? textHandler.mouseup(e) : cache.isImage ? imageHandler.mouseup(e) : cache.isPdf ? pdfHandler.mousedown(e) : cache.isArrow ? arrowHandler.mouseup(e) : cache.isMarker && markerHandler.mouseup(e), !cache.isPdf && drawHelper.redraw(), syncPoints(!(!is.isDragAllPaths && !is.isDragLastPath)), preventStopEvent(e)
    }), addEvent(canvas, isTouch ? "touchmove mousemove" : "mousemove", function(e) {
        isTouch && (e = e.pageX ? e : e.touches.length ? e.touches[0] : { pageX: 0, pageY: 0 });
        var cache = is;
        cache.isLine ? lineHandler.mousemove(e) : cache.isArc ? arcHandler.mousemove(e) : cache.isRectangle ? rectHandler.mousemove(e) : cache.isQuadraticCurve ? quadraticHandler.mousemove(e) : cache.isBezierCurve ? bezierHandler.mousemove(e) : cache.isDragLastPath || cache.isDragAllPaths ? dragHelper.mousemove(e) : cache.isPencil ? pencilHandler.mousemove(e) : cache.isEraser ? eraserHandler.mousemove(e) : cache.isText ? textHandler.mousemove(e) : cache.isImage ? imageHandler.mousemove(e) : cache.isPdf ? pdfHandler.mousedown(e) : cache.isArrow ? arrowHandler.mousemove(e) : cache.isMarker && markerHandler.mousemove(e), preventStopEvent(e)
    });
    var keyCode;
    addEvent(document, "keydown", onkeydown), addEvent(document, "keyup", onkeyup), addEvent(document, "keypress", onkeypress), addEvent(document, "paste", onTextFromClipboard);
    var uid, lastPointIndex = 0;
    window.addEventListener("message", function(event) {
        if (event.data) {
            if (uid || (uid = event.data.uid), event.data.captureStream) return void webrtcHandler.createOffer(function(sdp) { sdp.uid = uid, window.parent.postMessage(sdp, "*") });
            if (event.data.renderStream) return void setTemporaryLine();
            if (event.data.sdp) return void webrtcHandler.setRemoteDescription(event.data);
            if (event.data.genDataURL) { var dataURL = context.canvas.toDataURL(event.data.format, 1); return void window.parent.postMessage({ dataURL: dataURL, uid: uid }, "*") }
            if (event.data.undo && points.length) {
                var index = event.data.index;
                if (event.data.tool) {
                    for (var newArray = [], length = points.length, reverse = points.reverse(), i = 0; i < length; i++) {
                        var point = reverse[i];
                        point[0] !== event.data.tool && newArray.push(point)
                    }
                    return points = newArray.reverse(), drawHelper.redraw(), void syncPoints(!0)
                }
                if ("all" === index) return points = [], drawHelper.redraw(), void syncPoints(!0);
                if (index.numberOfLastShapes) { try { points.length -= index.numberOfLastShapes } catch (e) { points = [] } return drawHelper.redraw(), void syncPoints(!0) }
                if (-1 === index) { if (points.length && "pencil" === points[points.length - 1][0]) { for (var ended, newArray = [], length = points.length, reverse = points.reverse(), i = 0; i < length; i++) { var point = reverse[i]; "start" == point[3] ? ended = !0 : ended && newArray.push(point) } return points = newArray.reverse(), drawHelper.redraw(), void syncPoints(!0) } return points.length = points.length - 1, drawHelper.redraw(), void syncPoints(!0) }
                if (points[index]) {
                    for (var newPoints = [], i = 0; i < points.length; i++) i !== index && newPoints.push(points[i]);
                    points = newPoints, drawHelper.redraw(), syncPoints(!0)
                }
            } else {
                if (event.data.syncPoints) return void syncPoints(!0);
                if (event.data.clearCanvas) return points = [], void drawHelper.redraw();
                if (event.data.canvasDesignerSyncData) {
                    var d = event.data.canvasDesignerSyncData;
                    if (0 !== d.startIndex)
                        for (var i = 0; i < d.points.length; i++) points[i + d.startIndex] = d.points[i];
                    else points = d.points;
                    lastPointIndex = points.length, drawHelper.redraw()
                }
            }
        }
    }, !1);
    var webrtcHandler = {
        createOffer: function(callback) {
            var captureStream = document.getElementById("main-canvas").captureStream(),
                peer = this.getPeer();
            captureStream.getTracks().forEach(function(track) { peer.addTrack(track, captureStream) }), peer.onicecandidate = function(event) { event && !event.candidate && callback({ sdp: peer.localDescription.sdp, type: peer.localDescription.type }) }, peer.createOffer({ OfferToReceiveAudio: !1, OfferToReceiveVideo: !1 }).then(function(sdp) { peer.setLocalDescription(sdp) })
        },
        setRemoteDescription: function(sdp) { this.peer.setRemoteDescription(new RTCSessionDescription(sdp)).then(function() { "function" == typeof setTemporaryLine && setTemporaryLine() }) },
        createAnswer: function(sdp, callback) {
            var peer = this.getPeer();
            peer.onicecandidate = function(event) { event && !event.candidate && callback({ sdp: peer.localDescription.sdp, type: peer.localDescription.type }) }, this.peer.setRemoteDescription(new RTCSessionDescription(sdp)).then(function() { peer.createAnswer({ OfferToReceiveAudio: !1, OfferToReceiveVideo: !0 }).then(function(sdp) { peer.setLocalDescription(sdp) }) }), peer.ontrack = function(event) { callback({ stream: event.streams[0] }) }
        },
        getPeer: function() {
            var WebRTC_Native_Peer = window.RTCPeerConnection || window.webkitRTCPeerConnection || window.mozRTCPeerConnection,
                peer = (window.RTCSessionDescription || window.mozRTCSessionDescription, window.RTCIceCandidate || window.mozRTCIceCandidate, new WebRTC_Native_Peer(null));
            return this.peer = peer, peer
        }
    }
}();